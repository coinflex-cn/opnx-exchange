
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the CoinFLEX API"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-70013677.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-83b11cfd.js"></script>
    <link href="images/favicon-92b8c2e4.ico" rel="icon" type="image/ico" />

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;javascript&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-20378f63.svg" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">curl</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#change-log" class="toc-h1 toc-link" data-title="Change Log">Change Log</a>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#api-key-management" class="toc-h1 toc-link" data-title="API Key Management">API Key Management</a>
          </li>
          <li>
            <a href="#historical-data" class="toc-h1 toc-link" data-title="Historical Data">Historical Data</a>
          </li>
          <li>
            <a href="#rate-limit" class="toc-h1 toc-link" data-title="Rate Limit">Rate Limit</a>
          </li>
          <li>
            <a href="#websocket-api" class="toc-h1 toc-link" data-title="Websocket API">Websocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#websocket-api-authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#websocket-api-session-keep-alive" class="toc-h2 toc-link" data-title="Session Keep Alive">Session Keep Alive</a>
                  </li>
                  <li>
                    <a href="#websocket-api-order-commands" class="toc-h2 toc-link" data-title="Order Commands">Order Commands</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-order-commands-place-limit-order" class="toc-h3 toc-link" data-title="Place Limit Order">Place Limit Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-place-market-order" class="toc-h3 toc-link" data-title="Place Market Order">Place Market Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-place-stop-limit-order" class="toc-h3 toc-link" data-title="Place Stop Limit Order">Place Stop Limit Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-place-batch-orders" class="toc-h3 toc-link" data-title="Place Batch Orders">Place Batch Orders</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-cancel-order" class="toc-h3 toc-link" data-title="Cancel Order">Cancel Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-cancel-batch-orders" class="toc-h3 toc-link" data-title="Cancel Batch Orders">Cancel Batch Orders</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-modify-order" class="toc-h3 toc-link" data-title="Modify Order">Modify Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-modify-batch-orders" class="toc-h3 toc-link" data-title="Modify Batch Orders">Modify Batch Orders</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#websocket-api-subscriptions-private" class="toc-h2 toc-link" data-title="Subscriptions - Private">Subscriptions - Private</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-subscriptions-private-balance-channel" class="toc-h3 toc-link" data-title="Balance Channel">Balance Channel</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-private-position-channel" class="toc-h3 toc-link" data-title="Position Channel">Position Channel</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-private-order-channel" class="toc-h3 toc-link" data-title="Order Channel">Order Channel</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-orderopened" class="toc-h4 toc-link" data-title="OrderOpened">OrderOpened</a>
                                  </li>
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-orderclosed" class="toc-h4 toc-link" data-title="OrderClosed">OrderClosed</a>
                                  </li>
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-orderclosed-failure" class="toc-h4 toc-link" data-title="OrderClosed Failure">OrderClosed Failure</a>
                                  </li>
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-ordermodified" class="toc-h4 toc-link" data-title="OrderModified">OrderModified</a>
                                  </li>
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-ordermodified-failure" class="toc-h4 toc-link" data-title="OrderModified Failure">OrderModified Failure</a>
                                  </li>
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-ordermatched" class="toc-h4 toc-link" data-title="OrderMatched">OrderMatched</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#websocket-api-subscriptions-public" class="toc-h2 toc-link" data-title="Subscriptions - Public">Subscriptions - Public</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-subscriptions-public-orderbook-depth" class="toc-h3 toc-link" data-title="Orderbook Depth">Orderbook Depth</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-public-trade" class="toc-h3 toc-link" data-title="Trade">Trade</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-public-ticker" class="toc-h3 toc-link" data-title="Ticker">Ticker</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-public-candles" class="toc-h3 toc-link" data-title="Candles">Candles</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-public-liquidation-rfq" class="toc-h3 toc-link" data-title="Liquidation RFQ">Liquidation RFQ</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-public-market" class="toc-h3 toc-link" data-title="Market">Market</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#websocket-api-other-responses" class="toc-h2 toc-link" data-title="Other Responses">Other Responses</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-other-responses-cancel-all-open-orders" class="toc-h3 toc-link" data-title="Cancel All Open Orders">Cancel All Open Orders</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#websocket-api-error-codes" class="toc-h2 toc-link" data-title="Error Codes">Error Codes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rest-api" class="toc-h1 toc-link" data-title="REST API">REST API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#rest-api-authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#rest-api-methods-private" class="toc-h2 toc-link" data-title="Methods - Private">Methods - Private</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-methods-private-get-v2-accountinfo" class="toc-h3 toc-link" data-title="GET <code>/v2/accountinfo</code>">GET <code>/v2/accountinfo</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-balances" class="toc-h3 toc-link" data-title="GET <code>/v2/balances</code>">GET <code>/v2/balances</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-balances-instrumentid" class="toc-h3 toc-link" data-title="GET <code>/v2/balances/{instrumentId}</code>">GET <code>/v2/balances/{instrumentId}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-positions" class="toc-h3 toc-link" data-title="GET  <code>/v2/positions</code>">GET  <code>/v2/positions</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-positions-instrumentid" class="toc-h3 toc-link" data-title="GET  <code>/v2/positions/{instrumentId}</code>">GET  <code>/v2/positions/{instrumentId}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-trades-marketcode" class="toc-h3 toc-link" data-title="GET <code>/v2/trades/{marketCode}</code>">GET <code>/v2/trades/{marketCode}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-orders" class="toc-h3 toc-link" data-title="GET <code>/v2/orders</code>">GET <code>/v2/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-1-orders" class="toc-h3 toc-link" data-title="GET <code>/v2.1/orders</code>">GET <code>/v2.1/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-delete-v2-cancel-orders" class="toc-h3 toc-link" data-title="DELETE <code>/v2/cancel/orders</code>">DELETE <code>/v2/cancel/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-delete-v2-cancel-orders-marketcode" class="toc-h3 toc-link" data-title="DELETE <code>/v2/cancel/orders/{marketCode}</code>">DELETE <code>/v2/cancel/orders/{marketCode}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-1-delivery-orders" class="toc-h3 toc-link" data-title="GET <code>/v2.1/delivery/orders</code>">GET <code>/v2.1/delivery/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-1-delivery-orders" class="toc-h3 toc-link" data-title="POST <code>/v2.1/delivery/orders</code>">POST <code>/v2.1/delivery/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-delete-v2-1-delivery-orders-deliveryorderid" class="toc-h3 toc-link" data-title="DELETE <code>/v2.1/delivery/orders/{deliveryOrderId}</code>">DELETE <code>/v2.1/delivery/orders/{deliveryOrderId}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-orders-place" class="toc-h3 toc-link" data-title="POST <code>/v2/orders/place</code>">POST <code>/v2/orders/place</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-orders-modify" class="toc-h3 toc-link" data-title="POST <code>/v2/orders/modify</code>">POST <code>/v2/orders/modify</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-delete-v2-orders-cancel" class="toc-h3 toc-link" data-title="DELETE <code>/v2/orders/cancel</code>">DELETE <code>/v2/orders/cancel</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-mint" class="toc-h3 toc-link" data-title="POST <code>/v2/mint</code>">POST <code>/v2/mint</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-mint-asset" class="toc-h3 toc-link" data-title="GET <code>/v2/mint/{asset}</code>">GET <code>/v2/mint/{asset}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-redeem" class="toc-h3 toc-link" data-title="POST <code>/v2/redeem</code>">POST <code>/v2/redeem</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-redeem-asset" class="toc-h3 toc-link" data-title="GET <code>/v2/redeem/{asset}</code>">GET <code>/v2/redeem/{asset}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-borrow" class="toc-h3 toc-link" data-title="POST <code>/v2/borrow</code>">POST <code>/v2/borrow</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-repay" class="toc-h3 toc-link" data-title="POST <code>/v2/repay</code>">POST <code>/v2/repay</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-borrow-asset" class="toc-h3 toc-link" data-title="GET <code>v2/borrow/{asset}</code>">GET <code>v2/borrow/{asset}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-repay-asset" class="toc-h3 toc-link" data-title="GET <code>v2/repay/{asset}</code>">GET <code>v2/repay/{asset}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-borrowingsummary" class="toc-h3 toc-link" data-title="GET <code>v2/borrowingSummary</code>">GET <code>v2/borrowingSummary</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-borrow-close" class="toc-h3 toc-link" data-title="POST <code>/v2/borrow/close</code>">POST <code>/v2/borrow/close</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-funding-payments" class="toc-h3 toc-link" data-title="GET <code>/v2/funding-payments</code>">GET <code>/v2/funding-payments</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-amm-create" class="toc-h3 toc-link" data-title="POST <code>/v2/AMM/create</code>">POST <code>/v2/AMM/create</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-amm-redeem" class="toc-h3 toc-link" data-title="POST <code>/v2/AMM/redeem</code>">POST <code>/v2/AMM/redeem</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-amm" class="toc-h3 toc-link" data-title="GET <code>/v2/AMM</code>">GET <code>/v2/AMM</code></a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#rest-api-methods-public" class="toc-h2 toc-link" data-title="Methods - Public">Methods - Public</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-methods-public-get-v2-all-markets" class="toc-h3 toc-link" data-title="GET <code>/v2/all/markets</code>">GET <code>/v2/all/markets</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-all-assets" class="toc-h3 toc-link" data-title="GET <code>/v2/all/assets</code>">GET <code>/v2/all/assets</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-publictrades-marketcode" class="toc-h3 toc-link" data-title="GET <code>/v2/publictrades/{marketCode}</code>">GET <code>/v2/publictrades/{marketCode}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-ticker" class="toc-h3 toc-link" data-title="GET <code>/v2/ticker</code>">GET <code>/v2/ticker</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-delivery-public-funding" class="toc-h3 toc-link" data-title="GET <code>/v2/delivery/public/funding</code>">GET <code>/v2/delivery/public/funding</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-1-deliver-auction-instrumentid" class="toc-h3 toc-link" data-title="GET <code>/v2.1/deliver-auction/{instrumentId}</code>">GET <code>/v2.1/deliver-auction/{instrumentId}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-candles-marketcode" class="toc-h3 toc-link" data-title="GET <code>/v2/candles/{marketCode}</code>">GET <code>/v2/candles/{marketCode}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-funding-rates-marketcode" class="toc-h3 toc-link" data-title="GET <code>/v2/funding-rates/{marketCode}</code>">GET <code>/v2/funding-rates/{marketCode}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-depth-marketcode-level" class="toc-h3 toc-link" data-title="GET <code>/v2/depth/{marketCode}/{level}</code>">GET <code>/v2/depth/{marketCode}/{level}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-ping" class="toc-h3 toc-link" data-title="GET <code>/v2/ping</code>">GET <code>/v2/ping</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-flex-protocol-balances-flexprotocol" class="toc-h3 toc-link" data-title="GET <code>/v2/flex-protocol/balances/{flexProtocol}</code>">GET <code>/v2/flex-protocol/balances/{flexProtocol}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-flex-protocol-positions-flexprotocol" class="toc-h3 toc-link" data-title="GET <code>/v2/flex-protocol/positions/{flexProtocol}</code>">GET <code>/v2/flex-protocol/positions/{flexProtocol}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-flex-protocol-orders-flexprotocol" class="toc-h3 toc-link" data-title="GET <code>/v2/flex-protocol/orders/{flexProtocol}</code>">GET <code>/v2/flex-protocol/orders/{flexProtocol}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-flex-protocol-trades-flexprotocol-marketcode" class="toc-h3 toc-link" data-title="GET <code>/v2/flex-protocol/trades/{flexProtocol}/{marketCode}</code>">GET <code>/v2/flex-protocol/trades/{flexProtocol}/{marketCode}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-flex-protocol-delivery-orders-flexprotocol" class="toc-h3 toc-link" data-title="GET <code>/v2/flex-protocol/delivery/orders/{flexProtocol}</code>">GET <code>/v2/flex-protocol/delivery/orders/{flexProtocol}</code></a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rest-api-v3" class="toc-h1 toc-link" data-title="REST API V3">REST API V3</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#rest-api-v3-error-codes" class="toc-h2 toc-link" data-title="Error Codes">Error Codes</a>
                  </li>
                  <li>
                    <a href="#rest-api-v3-rate-limits" class="toc-h2 toc-link" data-title="Rate Limits">Rate Limits</a>
                  </li>
                  <li>
                    <a href="#rest-api-v3-authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#rest-api-v3-account-amp-wallet-private" class="toc-h2 toc-link" data-title="Account &amp; Wallet - Private">Account &amp; Wallet - Private</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-v3-account-amp-wallet-private-get-v3-account" class="toc-h3 toc-link" data-title="GET <code>/v3/account</code>">GET <code>/v3/account</code></a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#rest-api-v3-deposits-amp-withdrawals-private" class="toc-h2 toc-link" data-title="Deposits &amp; Withdrawals - Private">Deposits &amp; Withdrawals - Private</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-v3-deposits-amp-withdrawals-private-get-v3-deposit-addresses" class="toc-h3 toc-link" data-title="GET <code>/v3/deposit-addresses</code>">GET <code>/v3/deposit-addresses</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-deposits-amp-withdrawals-private-get-v3-deposit" class="toc-h3 toc-link" data-title="GET <code>/v3/deposit</code>">GET <code>/v3/deposit</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal-addresses" class="toc-h3 toc-link" data-title="GET <code>/v3/withdrawal-addresses</code>">GET <code>/v3/withdrawal-addresses</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal" class="toc-h3 toc-link" data-title="GET <code>/v3/withdrawal</code>">GET <code>/v3/withdrawal</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-deposits-amp-withdrawals-private-post-v3-withdrawal" class="toc-h3 toc-link" data-title="POST <code>/v3/withdrawal</code>">POST <code>/v3/withdrawal</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal-fee" class="toc-h3 toc-link" data-title="GET <code>/v3/withdrawal-fee</code>">GET <code>/v3/withdrawal-fee</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-deposits-amp-withdrawals-private-post-v3-transfer" class="toc-h3 toc-link" data-title="POST <code>/v3/transfer</code>">POST <code>/v3/transfer</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-deposits-amp-withdrawals-private-get-v3-transfer" class="toc-h3 toc-link" data-title="GET <code>/v3/transfer</code>">GET <code>/v3/transfer</code></a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#rest-api-v3-flex-assets-private" class="toc-h2 toc-link" data-title="Flex Assets - Private">Flex Assets - Private</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-v3-flex-assets-private-post-v3-flexasset-mint" class="toc-h3 toc-link" data-title="POST <code>/v3/flexasset/mint</code>">POST <code>/v3/flexasset/mint</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-flex-assets-private-post-v3-flexasset-redeem" class="toc-h3 toc-link" data-title="POST <code>/v3/flexasset/redeem</code>">POST <code>/v3/flexasset/redeem</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-flex-assets-private-get-v3-flexasset-mint" class="toc-h3 toc-link" data-title="GET <code>/v3/flexasset/mint</code>">GET <code>/v3/flexasset/mint</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-flex-assets-private-get-v3-flexasset-redeem" class="toc-h3 toc-link" data-title="GET <code>/v3/flexasset/redeem</code>">GET <code>/v3/flexasset/redeem</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-flex-assets-private-get-v3-flexasset-earned" class="toc-h3 toc-link" data-title="GET <code>/v3/flexasset/earned</code>">GET <code>/v3/flexasset/earned</code></a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#rest-api-v3-amm-private" class="toc-h2 toc-link" data-title="AMM - Private">AMM - Private</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-v3-amm-private-post-v3-amm-create" class="toc-h3 toc-link" data-title="POST <code>/v3/AMM/create</code>">POST <code>/v3/AMM/create</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-amm-private-post-v3-amm-redeem" class="toc-h3 toc-link" data-title="POST <code>/v3/AMM/redeem</code>">POST <code>/v3/AMM/redeem</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-amm-private-get-v3-amm" class="toc-h3 toc-link" data-title="GET <code>/v3/AMM</code>">GET <code>/v3/AMM</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-amm-private-get-v3-amm-balances" class="toc-h3 toc-link" data-title="GET <code>/v3/AMM/balances</code>">GET <code>/v3/AMM/balances</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-amm-private-get-v3-amm-positions" class="toc-h3 toc-link" data-title="GET <code>/v3/AMM/positions</code>">GET <code>/v3/AMM/positions</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-amm-private-get-v3-amm-orders" class="toc-h3 toc-link" data-title="GET <code>/v3/AMM/orders</code>">GET <code>/v3/AMM/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-amm-private-get-v3-amm-trades" class="toc-h3 toc-link" data-title="GET <code>/v3/AMM/trades</code>">GET <code>/v3/AMM/trades</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-amm-private-get-v3-amm-hash-token" class="toc-h3 toc-link" data-title="GET <code>/v3/AMM/hash-token</code>">GET <code>/v3/AMM/hash-token</code></a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#rest-api-v3-market-data-public" class="toc-h2 toc-link" data-title="Market Data - Public">Market Data - Public</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-v3-market-data-public-get-v3-markets" class="toc-h3 toc-link" data-title="GET <code>/v3/markets</code>">GET <code>/v3/markets</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-market-data-public-get-v3-assets" class="toc-h3 toc-link" data-title="GET <code>/v3/assets</code>">GET <code>/v3/assets</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-market-data-public-get-v3-tickers" class="toc-h3 toc-link" data-title="GET <code>/v3/tickers</code>">GET <code>/v3/tickers</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-market-data-public-get-v3-auction" class="toc-h3 toc-link" data-title="GET <code>/v3/auction</code>">GET <code>/v3/auction</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-market-data-public-get-v3-funding-rates" class="toc-h3 toc-link" data-title="GET <code>/v3/funding-rates</code>">GET <code>/v3/funding-rates</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-market-data-public-get-v3-candles" class="toc-h3 toc-link" data-title="GET <code>/v3/candles</code>">GET <code>/v3/candles</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-market-data-public-get-v3-depth" class="toc-h3 toc-link" data-title="GET <code>/v3/depth</code>">GET <code>/v3/depth</code></a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#rest-api-v3-flex-assets-public" class="toc-h2 toc-link" data-title="Flex Assets - Public">Flex Assets - Public</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-v3-flex-assets-public-get-v3-flexasset-balances" class="toc-h3 toc-link" data-title="GET <code>/v3/flexasset/balances</code>">GET <code>/v3/flexasset/balances</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-flex-assets-public-get-v3-flexasset-positions" class="toc-h3 toc-link" data-title="GET <code>/v3/flexasset/positions</code>">GET <code>/v3/flexasset/positions</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-v3-flex-assets-public-get-v3-flexasset-yields" class="toc-h3 toc-link" data-title="GET <code>/v3/flexasset/yields</code>">GET <code>/v3/flexasset/yields</code></a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://coinflex.com/user-console/register'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='change-log'>Change Log</h1>
<p><strong>2022-05-10</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal">GET /v3/withdrawal</a>

<ul>
<li>Returned an empty array <code>[]</code> instead of the &quot;no result, please check your parameters&quot; error message when no withdrawals were found</li>
</ul></li>
</ul>

<p><strong>2022-05-04</strong></p>

<ul>
<li><a href="?json#rest-api-v3-rate-limits">Rate limit</a> increased from <code>2/10s</code> to <code>4/10s</code> for the AMM POST requests</li>
</ul>

<p><strong>2022-04-18</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-v3-amm-private-post-v3-amm-redeem">POST /v3/AMM/redeem</a>

<ul>
<li>Added new request parameter <code>accountId</code> and new response field <code>accountId</code></li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-v3-amm-private-get-v3-amm">GET /v3/AMM</a>

<ul>
<li>Added new response field <code>volume</code></li>
</ul></li>
</ul>

<p><strong>2022-04-15</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal">GET /v3/withdrawal</a>

<ul>
<li>Added new parameter <code>id</code></li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-post-v3-withdrawal">POST /v3/withdrawal</a>

<ul>
<li>Added new response field <code>id</code></li>
</ul></li>
</ul>

<p><strong>2022-04-12</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-v3-amm-private-get-v3-amm-hash-token">GET /v3/AMM/hash-token</a> to get AMM hashTokens</li>
</ul>

<p><strong>2022-03-18</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-v3-market-data-public-get-v3-assets">GET /v3/assets</a>

<ul>
<li>Changed response field <code>name</code> to <code>asset</code></li>
<li>Changed response field <code>network</code> to <code>networkList</code> and wrap network in the list</li>
<li>Added new response field <code>tokenId</code></li>
<li>Added new response field <code>transactionPrecision</code></li>
<li>Added new response field <code>isWithdrawalFeeChargedToUser</code></li>
</ul></li>
</ul>

<p><strong>2022-03-11</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-v3-market-data-public-get-v3-tickers">GET /v3/tickers</a> to get tickers</li>
<li>Added new REST API <a href="?json#rest-api-v3-market-data-public-get-v3-auction">GET /v3/auction</a> to get upcoming delivery auction</li>
<li>Added new REST API <a href="?json#rest-api-v3-market-data-public-get-v3-funding-rates">GET /v3/funding-rates</a> to get historical funding rates</li>
<li>Added new REST API <a href="?json#rest-api-v3-market-data-public-get-v3-candles">GET /v3/candles</a> to get candles</li>
<li>Added new REST API <a href="?json#rest-api-v3-market-data-public-get-v3-depth">GET /v3/depth</a> to get depth</li>
<li>Added new REST API <a href="?json#rest-api-v3-flex-assets-public-get-v3-flexasset-balances">GET /v3/flexasset/balances</a> to get flexAsset balances</li>
<li>Added new REST API <a href="?json#rest-api-v3-flex-assets-public-get-v3-flexasset-positions">GET /v3/flexasset/positions</a> to get flexAsset positions</li>
<li>Added new REST API <a href="?json#rest-api-v3-flex-assets-public-get-v3-flexasset-yields">GET /v3/flexasset/yields</a> to get flexAsset yields</li>
</ul>

<p><strong>2022-02-21</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-flex-protocol-balances-flexprotocol">GET /v2/flex-protocol/balances/{flexProtocol}</a>

<ul>
<li>Added new response field <code>markPrice</code></li>
</ul></li>
</ul>

<p><strong>2022-01-05</strong></p>

<ul>
<li>One account can only place up to 50 orders per second via websocket. Affected websocket APIs:

<ul>
<li><a href="?json#websocket-api-order-commands-place-limit-order">Place Limit Order</a></li>
<li><a href="?json#websocket-api-order-commands-place-market-order">Place Market Order</a></li>
<li><a href="?json#websocket-api-order-commands-place-stop-limit-order">Place Stop Limit Order</a></li>
<li><a href="?json#websocket-api-order-commands-modify-order">Modify Order</a></li>
</ul></li>
</ul>

<p><strong>2021-12-23</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-v3-account-amp-wallet-private-get-v3-account">GET /v3/account</a> to get account information</li>
<li>Added new REST API <a href="?json#rest-api-v3-amm-private-post-v3-amm-create">POST /v3/AMM/create</a> to create AMM</li>
<li>Added new REST API <a href="?json#rest-api-v3-amm-private-post-v3-amm-redeem">POST /v3/AMM/redeem</a> to redeem AMM</li>
<li>Added new REST API <a href="?json#rest-api-v3-amm-private-get-v3-amm">GET /v3/AMM</a> to get AMM information</li>
<li>Added new REST API <a href="?json#rest-api-v3-amm-private-get-v3-amm-balances">GET /v3/AMM/balances</a> to get AMM balances</li>
<li>Added new REST API <a href="?json#rest-api-v3-amm-private-get-v3-amm-positions">GET /v3/AMM/positions</a> to get AMM positions</li>
<li>Added new REST API <a href="?json#rest-api-v3-amm-private-get-v3-amm-orders">GET /v3/AMM/orders</a> to get AMM orders</li>
<li>Added new REST API <a href="?json#rest-api-v3-amm-private-get-v3-amm-trades">GET /v3/AMM/trades</a> to get AMM trades</li>
</ul>

<p><strong>2021-12-21</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-trades-marketcode">GET /v2/trades/{marketCode}</a>

<ul>
<li>Changed parameter <code>startTime</code> default to 24 hours ago</li>
<li>Changed parameter <code>endTime</code> default to current time</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-1-delivery-orders">GET /v2.1/delivery/orders</a>

<ul>
<li>Added parameter <code>limit</code> with default 200 max 500</li>
<li>Added parameter <code>startTime</code> with default 24 hours ago</li>
<li>Added parameter <code>endTime</code> with default current time</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-mint-asset">GET /v2/mint/{asset}</a>

<ul>
<li>Changed parameter <code>startTime</code> default to 24 hours ago</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-redeem-asset">GET /v2/redeem/{asset}</a>

<ul>
<li>Changed parameter <code>startTime</code> default to 24 hours ago</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-borrow-asset">GET v2/borrow/{asset}</a>

<ul>
<li>Changed parameter <code>startTime</code> default to 24 hours ago</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-repay-asset">GET v2/repay/{asset}</a>

<ul>
<li>Changed parameter <code>startTime</code> default to 24 hours ago</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-publictrades-marketcode">GET /v2/publictrades/{marketCode}</a>

<ul>
<li>Changed parameter <code>startTime</code> default to 24 hours ago</li>
<li>Changed parameter <code>endTime</code> default to current time</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-flex-protocol-trades-flexprotocol-marketcode">GET /v2/flex-protocol/trades/{flexProtocol}/{marketCode}</a>

<ul>
<li>Changed parameter <code>startTime</code> default to 24 hours ago</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-flex-protocol-delivery-orders-flexprotocol">GET /v2/flex-protocol/delivery/orders/{flexProtocol}</a>

<ul>
<li>Changed parameter <code>startTime</code> default to 24 hours ago</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-delivery-public-funding">GET /v2/delivery/public/funding</a>

<ul>
<li>Changed parameter <code>startTime</code> default to 24 hours ago</li>
<li>Added parameter <code>endTime</code> with default current time</li>
<li><code>startTime</code> and <code>endTime</code> must be within 7 days of each other</li>
</ul></li>
</ul>

<p><strong>2021-11-30</strong></p>

<ul>
<li>Updated websocket API <a href="?json#websocket-api-order-commands-place-limit-order">Place Limit Order</a>

<ul>
<li>Added parameter <code>timestamp</code> and paramter <code>recvWindow</code></li>
</ul></li>
<li>Updated websocket API <a href="?json#websocket-api-order-commands-place-market-order">Place Market Order</a>

<ul>
<li>Added parameter <code>timestamp</code> and paramter <code>recvWindow</code></li>
</ul></li>
<li>Updated websocket API <a href="?json#websocket-api-order-commands-place-stop-limit-order">Place Stop Limit Order</a>

<ul>
<li>Added parameter <code>timestamp</code> and paramter <code>recvWindow</code></li>
</ul></li>
<li>Updated websocket API <a href="?json#websocket-api-order-commands-place-batch-orders">Place Batch Orders</a>

<ul>
<li>Added parameter <code>timestamp</code> and paramter <code>recvWindow</code></li>
</ul></li>
<li>Updated websocket API <a href="?json#websocket-api-order-commands-modify-order">Modify Order</a>

<ul>
<li>Added parameter <code>timestamp</code> and paramter <code>recvWindow</code></li>
</ul></li>
<li>Updated websocket API <a href="?json#websocket-api-order-commands-modify-batch-orders">Modify Batch Orders</a>

<ul>
<li>Added parameter <code>timestamp</code> and paramter <code>recvWindow</code></li>
</ul></li>
</ul>

<p><strong>2021-11-22</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-v3-flex-assets-private-post-v3-flexasset-mint">POST /v3/flexasset/mint</a> to mint</li>
<li>Added new REST API <a href="?json#rest-api-v3-flex-assets-private-post-v3-flexasset-redeem">POST /v3/flexasset/redeem</a> to redeem</li>
<li>Added new REST API <a href="?json#rest-api-v3-flex-assets-private-get-v3-flexasset-mint">GET /v3/flexasset/mint</a> to get mint history</li>
<li>Added new REST API <a href="?json#rest-api-v3-flex-assets-private-get-v3-flexasset-redeem">GET /v3/flexasset/redeem</a> to get redeem history</li>
<li>Added new REST API <a href="?json#rest-api-v3-flex-assets-private-get-v3-flexasset-earned">GET /v3/flexasset/earned</a> to get earn history</li>
<li>Added new REST API <a href="?json#rest-api-v3-market-data-public-get-v3-markets">GET /v3/markets</a> to get all markets</li>
<li>Added new REST API <a href="?json#rest-api-v3-market-data-public-get-v3-assets">GET /v3/assets</a> to get all assets</li>
</ul>

<p><strong>2021-10-30</strong></p>

<p>Here come the API V3!</p>

<ul>
<li>Added new REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-get-v3-deposit-addresses">GET /v3/deposit-addresses</a> to get deposit addresses</li>
<li>Added new REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-get-v3-deposit">GET /v3/deposit</a> to get deposit history</li>
<li>Added new REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal-addresses">GET /v3/withdrawal-addresses</a> to get withdrawal addresses</li>
<li>Added new REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal">GET /v3/withdrawal</a> to get withdrawal history</li>
<li>Added new REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-post-v3-withdrawal">POST /v3/withdrawal</a> to withdraw</li>
<li>Added new REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal-fee">GET /v3/withdrawal-fee</a> to get estimated withdrawal fee</li>
<li>Added new REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-post-v3-transfer">POST /v3/transfer</a> to transfer</li>
<li>Added new REST API <a href="?json#rest-api-v3-deposits-amp-withdrawals-private-get-v3-transfer">GET /v3/transfer</a> to get transfer history</li>
</ul>

<p><strong>2021-10-26</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-funding-payments">GET /v2/funding-payments</a>

<ul>
<li>Changed parameter startTime default from 0 to 500 hours ago</li>
<li>Changed parameter limit default &amp; max from 50 to 500</li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-delivery-public-funding">GET /v2/delivery/public/funding</a>

<ul>
<li>Added parameter limit with default 100 and max 500</li>
</ul></li>
</ul>

<p><strong>2021-09-23</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-1-orders">GET /v2.1/orders</a>

<ul>
<li>Changed startTime default from 0 to 24 hours ago</li>
<li>The range between startTime and endTime should be less than or equal to 7 days(<code>endTime - startTime &lt;= 7days</code>)</li>
</ul></li>
</ul>

<p><strong>2021-09-17</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-depth-marketcode-level">GET /v2/depth/{marketCode}/{level}</a>

<ul>
<li>Removed last two elements in depth</li>
</ul></li>
</ul>

<p><strong>2021-08-23</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-1-orders">GET /v2.1/orders</a>

<ul>
<li>Added new order status <code>OrderPartiallyMatched</code> which will be returned when the order has been partially filled</li>
<li>Return orders with distinct order id and latest order status</li>
</ul></li>
</ul>

<p><strong>2021-08-11</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-methods-private-post-v2-amm-create">POST /v2/AMM/create</a> to create AMM</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-post-v2-amm-redeem">POST /v2/AMM/redeem</a> to redeem AMM</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-get-v2-amm">GET /v2/AMM</a> to get AMM</li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-subscriptions-public-market">Market</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-subscriptions-public-liquidation-rfq">Liquidation RFQ</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-subscriptions-public-candles">Candles</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-subscriptions-public-ticker">Ticker</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-subscriptions-public-trade">Trade</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-subscriptions-public-orderbook-depth">Orderbook Depth</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-subscriptions-private-order-channel">Order Channel</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-subscriptions-private-position-channel">Position Channel</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-subscriptions-private-balance-channel">Balance Channel</a></li>
</ul>

<p><strong>2021-08-09</strong></p>

<ul>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-order-commands-place-batch-orders">Place Batch Orders</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-order-commands-cancel-order">Cancel Order</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-order-commands-cancel-batch-orders">Cancel Batch Orders</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-order-commands-modify-order">Modify Order</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-order-commands-modify-batch-orders">Modify Batch Orders</a></li>
<li>Added link to CoinFLEX&#39;s <a href="?python#historical-data">Historical Data</a> from third party API</li>
</ul>

<p><strong>2021-08-05</strong></p>

<ul>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-order-commands-limit-order">Limit Order</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-order-commands-market-order">Market Order</a></li>
<li>Added Python example of request for websocket API <a href="?python#websocket-api-order-commands-stop-limit-order">Stop Limit Order</a></li>
</ul>

<p><strong>2021-08-03</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-methods-private-get-v2-funding-payments">GET /v2/funding-payments</a> to get funding payments</li>
</ul>

<p><strong>2021-07-28</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-methods-private-post-v2-borrow">POST /v2/borrow</a> to borrow</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-post-v2-repay">POST /v2/repay</a> to repay</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-get-v2-borrow-asset">GET /v2/borrow/{asset}</a> to get borrow history</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-get-v2-borrow-asset">GET /v2/repay/{asset}</a> to get repay history</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-get-v2-borrowingsummary">GET /v2/borrowingSummary</a> to get borrowing summary</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-post-v2-borrow-close">POST /v2/borrow/close</a> to close borrow</li>
</ul>

<p><strong>2021-07-08</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-funding-rates-marketcode">GET /v2/funding-rates/{marketCode}</a>

<ul>
<li>Response data are sorted by time in descending order</li>
</ul></li>
</ul>

<p><strong>2021-05-24</strong></p>

<ul>
<li>Updated websocket API <a href="?json#websocket-api-subscriptions-public-ticker">Ticker</a>

<ul>
<li>If you subcribe &quot;ticker:all&quot;, you would get one whole message containing all markets but not individual message for each market any more</li>
<li>With lower channel update frequency 500 ms instead of 100 ms</li>
</ul></li>
</ul>

<p><strong>2021-05-21</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-methods-public-get-v2-flex-protocol-balances-flexprotocol">GET /v2/flex-protocol/balances/{flexProtocol}</a> to get flexAsset balances</li>
<li>Added new REST API <a href="?json#rest-api-methods-public-get-v2-flex-protocol-positions-flexprotocol">GET /v2/flex-protocol/positions/{flexProtocol}</a> to get get flexAsset positions</li>
<li>Added new REST API <a href="?json#rest-api-methods-public-get-v2-flex-protocol-orders-flexprotocol">GET /v2/flex-protocol/orders/{flexProtocol}</a> to get flexAsset orders</li>
<li>Added new REST API <a href="?json#rest-api-methods-public-get-v2-flex-protocol-trades-flexprotocol-marketcode">GET /v2/flex-protocol/trades/{flexProtocol}/{marketCode}</a> to get flexAsset trades</li>
<li>Added new REST API <a href="?json#rest-api-methods-public-get-v2-flex-protocol-delivery-orders-flexprotocol">GET /v2/flex-protocol/delivery/orders/{flexProtocol}</a> to get flexAsset delivery orders</li>
</ul>

<p><strong>2021-05-13</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-methods-public-get-v2-ping">GET /v2/ping</a> to check API service status</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-post-v2-mint">POST /v2/mint</a> to mint</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-get-v2-mint-asset">GET /v2/mint/{asset}</a> to get mint history</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-post-v2-redeem">POST /v2/redeem</a> to redeem</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-get-v2-redeem-asset">GET /v2/redeem/{asset}</a> to get redeem history</li>
</ul>

<p><strong>2021-05-12</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-positions">GET /v2/positions</a> &amp; <a href="?json#rest-api-methods-private-get-v2-positions-instrumentid">GET /v2/positions/{instrumentId}</a>

<ul>
<li>Response fields:

<ul>
<li>Field <code>lastUpdated</code> get changed from LONG type to STRING type</li>
</ul></li>
</ul></li>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-all-markets">GET/v2/all/markets</a>

<ul>
<li>Response fields:

<ul>
<li>Field <code>name</code> get changed with new naming rule, e.g. from <code>BAND/USD Spot</code> to <code>BAND/USD</code></li>
</ul></li>
</ul></li>
</ul>

<p><strong>2021-04-28</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-1-orders">GET /v2.1/orders</a>

<ul>
<li>Request params:

<ul>
<li>Moved request parameters from body to URL</li>
<li>Changed default &amp; max of <code>limit</code> from <code>1000</code> to <code>100</code></li>
<li>Changed default of <code>startTime</code> from <code>24 hours ago</code> to <code>0</code></li>
</ul></li>
<li>Response fields:

<ul>
<li>Data list in response are ordered by created time in descending</li>
<li>Added new field <code>lastTradedPrice</code></li>
<li>Added new field <code>avgFillPrice</code></li>
<li>Added new field <code>filledQuantity</code></li>
<li>Added new field <code>avgLeg1Price</code></li>
<li>Added new field <code>avgLeg2Price</code></li>
<li>Added new field <code>orderOpenedTimestamp</code></li>
<li>Added new field <code>orderModifiedTimestamp</code></li>
<li>Added new field <code>orderClosedTimestamp</code></li>
<li>Changed field <code>matchId</code> to <code>matchIds</code> with more changes, please refer to the response example</li>
<li>Changed field <code>fees</code>, please refer to the response example</li>
<li>Changed field <code>isTriggered</code> from <code>True/False</code> to <code>&quot;true&quot;/&quot;false&quot;</code></li>
<li>Removed field <code>timestamp</code> in data list</li>
</ul></li>
</ul></li>
</ul>

<p><strong>2021-04-21</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-funding-rates-marketcode">GET /v2/funding-rates/{marketCode}</a>

<ul>
<li>Move request parameters from body to URL</li>
<li>Change response field <code>marketPrice</code> to <code>markPrice</code></li>
</ul></li>
</ul>

<p><strong>2021-04-19</strong></p>

<ul>
<li>Added new response fields <code>positionPnl</code> and <code>estLiquidationPrice</code> to websocket API <a href="?json#websocket-api-subscriptions-private-position-channel">Position Channel</a></li>
<li>Added new response field <code>estLiquidationPrice</code> to REST APIs <a href="?json#rest-api-methods-private-get-v2-positions">GET /v2/positions</a> and <a href="?json#rest-api-methods-private-get-v2-positions-instrumentid">GET /v2/positions/{instrumentId}</a></li>
</ul>

<p><strong>2021-03-31</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-candles-marketcode">GET /v2/candles/{marketCode}</a> to get historical candles of active and expired markets, big change on request parameters and response fields, so please take it as new</li>
</ul>

<p><strong>2021-03-18</strong></p>

<ul>
<li>Added <a href="?json#websocket-api-subscriptions-private-order-channel-orderclosed-failure">OrderClosed Failure Message</a> to the websocket API documentation</li>
<li>Added <a href="?json#websocket-api-subscriptions-private-order-channel-ordermodified-failure">OrderModified Failure Message</a> to the websocket API documentation</li>
</ul>

<p><strong>2021-03-10</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-methods-private-post-v2-orders-place">POST /v2/orders/place</a> to place orders</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-post-v2-orders-modify">POST /v2/orders/modify</a> to modify orders</li>
<li>Added new REST API <a href="?json#rest-api-methods-private-delete-v2-orders-cancel">DELETE /v2/orders/cancel</a> to cancel orders</li>
<li>Added new REST API <a href="?json#rest-api-methods-public-get-v2-depth-marketcode-level">GET /v2/depth/{marketCode}/{level}</a> to get order book depth by marketCode and level</li>
</ul>

<p><strong>2021-02-26</strong></p>

<ul>
<li>Updated REST API <a href="?json#rest-api-methods-public-get-v2-funding-rates-marketcode">GET /v2/funding-rates/{marketCode}</a>

<ul>
<li>does not require signature anymore, it&#39;s public</li>
<li>changed type of <code>limit</code> <code>startTime</code> <code>endTime</code> from STRING to LONG</li>
<li>changed <code>startTime</code> <code>endTime</code> from datetime (e.g. <code>2020-12-08 20:00:00</code>) to millisecond timestamp(e.g. <code>1579450778000</code>)</li>
</ul></li>
</ul>

<p><strong>2021-02-20</strong></p>

<ul>
<li>Added new websocket API <a href="?json#websocket-api-subscriptions-public-liquidation-rfq">Liquidation RFQ</a>, a subsription channel publishing upcoming liquidations</li>
<li>Added new websocket API <a href="?json#websocket-api-subscriptions-public-market">Market</a>, a subsription channel publishing market information for each order book</li>
</ul>

<p><strong>2021-02-05</strong></p>

<ul>
<li>Added new REST API <a href="?json#rest-api-methods-private-get-v2-1-orders">GET /v2.1/orders</a> to get all orders of current user</li>
<li>Added new REST API <a href="?json#rest-api-methods-public-get-v2-candles">GET /v2/candles</a> to get candlestick data for the current candle</li>
<li>Added new REST API <a href="?json#rest-api-methods-public-get-v2-funding-rates-marketcode">GET /v2/funding-rates/{marketCode}</a> to get funding rates by marketCode</li>
<li>Updated REST API <a href="?json#rest-api-methods-private-get-v2-orders">GET /v2/orders</a>

<ul>
<li>type of timestamp changed from INTEGER to STRING</li>
<li>changed field name from <code>remainQuantity</code> to <code>remainingQuantity</code></li>
<li>type of <code>orderCreated</code> and <code>lastModified</code> and <code>lastTradeTimestamp</code> changed from STRING TO INTEGER</li>
</ul></li>
</ul>

<p><strong>2021-01-26</strong></p>

<ul>
<li>Correction to REST API for <a href="?json#rest-api-methods-private-get-v2-accountinfo">GET /v2/accountinfo</a>, <a href="?json#rest-api-methods-private-get-v2-balances">GET /v2/balances</a> and <a href="?json#rest-api-methods-private-get-v2-positions">GET /v2/positions</a></li>
</ul>

<p><strong>2021-01-18</strong></p>

<ul>
<li>Updated rate limits to reflect new Rest and unauthenticated websocket rate limits</li>
</ul>

<p><strong>2020-12-14</strong></p>

<ul>
<li>Added new websocket API <a href="?json#websocket-api-order-commands-place-batch-orders">Place Batch Orders</a></li>
<li>Added new websocket API <a href="?json#websocket-api-order-commands-cancel-batch-orders">Cancel Batch Orders</a></li>
<li>Added new websocket API <a href="?json#websocket-api-order-commands-modify-batch-orders">Modify Batch Orders</a></li>
</ul>

<p><strong>2020-12-10</strong></p>

<ul>
<li>Added market order and stop-limit order websocket API details</li>
</ul>

<p><strong>2020-09-25</strong></p>

<ul>
<li>Added physical delivery API endpoints</li>
<li>Added position WebSocket channel</li>
<li>Added balance WebSocket channel</li>
<li>Added GET /v2/accountinfo</li>
<li>Added GET /v2/ticker</li>
<li>Added rate limits</li>
<li>Added guidance for maintaining connections</li>
</ul>

<p><strong>2020-07-25</strong></p>

<ul>
<li>Added GET /v2/publictrades/{marketCode}</li>
<li>Added GET /v2/trades/{marketCode}</li>
</ul>

<p><strong>2020-06-16</strong></p>

<ul>
<li>Added general guidance for getting a login/password to create tokens</li>
<li>Updated some addresses for REST API</li>
</ul>

<p><strong>2020-06-15</strong></p>

<ul>
<li>First beta version of API endpoints. Websocket and REST</li>
</ul>
<h1 id='introduction'>Introduction</h1>
<p>Welcome to CoinFLEX&#39;s v2 application programming interface (API). CoinFLEX&#39;s APIs provide clients programmatic access to control aspects of their accounts and to place orders on CoinFLEX&#39;s trading platform. CoinFLEX supports the following types of APIs:</p>

<ul>
<li>a WebSocket API</li>
<li>a REST API</li>
</ul>

<p>Using these interfaces it is possible to place both authenticated and unauthenticated API commands for public and prvate commands respectively.</p>

<p>To get started please register for a TEST account at <code>https://v2stg.coinflex.com/user-console/register</code></p>
<h1 id='api-key-management'>API Key Management</h1>
<p>An API key is required to make an authenticated API command.  API keys (public and corresponding secret key) can be generated via the CoinFLEX GUI within a clients account. </p>

<p>By default, API Keys are read-only and can only read basic account information, such as positions, orders, and trades. They cannot be used to trade such as placing, modifying or cancelling orders.</p>

<p>If you wish to execute orders with your API Key, clients must select the <code>Can Trade</code> permission upon API key creation.</p>

<p>API keys are also only bound to a single sub-account, defined upon creation. This means that an API key will only ever interact and return account information for a single sub-account.</p>
<h1 id='historical-data'>Historical Data</h1>
<p>CoinFLEX&#39;s historical L2 order book data (depth data), can be found at <a href="https://docs.tardis.dev/historical-data-details/coinflex">https://docs.tardis.dev/historical-data-details/coinflex</a> (third party API), which includes historical market data details - instruments, data coverage and data collection specifics for all of our instruments since 2020-07-14.</p>
<h1 id='rate-limit'>Rate Limit</h1>
<p>CoinFLEX&#39;s APIs allows our clients to access and control their accounts or view our market data using custom-written software. To protect the performance of the system, we impose certain limits:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Limit</th>
</tr>
</thead><tbody>
<tr>
<td>Rest API</td>
<td>100 per second</td>
</tr>
<tr>
<td>Rest API</td>
<td>2500 per 5 mins</td>
</tr>
<tr>
<td>Rest POST v2.1/delivery/orders</td>
<td>2 per 10 seconds</td>
</tr>
<tr>
<td>Initialising Websocket Connection</td>
<td>200 per minute</td>
</tr>
<tr>
<td>Websocket API (Auth)</td>
<td>50 per second</td>
</tr>
<tr>
<td>Websocket API (No Auth)</td>
<td>1 per second</td>
</tr>
</tbody></table>
<h1 id='websocket-api'>Websocket API</h1>
<blockquote>
<p><strong>Subscription request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;value1&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;value2&gt;"</span><span class="p">,</span><span class="err">.....</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Subscription success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;argsValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491945368"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Subscription failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592498745368"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Command request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"&lt;key1&gt;"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value1&gt;"</span><span class="p">,</span><span class="err">.....</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Command success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592498745368"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"&lt;key1&gt;"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value1&gt;"</span><span class="p">,</span><span class="err">.....</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Command failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;codeCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592498745368"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"&lt;key1&gt;"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value1&gt;"</span><span class="p">,</span><span class="err">.....</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>TEST</strong> site</p>

<ul>
<li><code>wss://v2stgapi.coinflex.com/v2/websocket</code></li>
</ul>

<p><strong>LIVE</strong> site</p>

<ul>
<li><code>wss://v2api.coinflex.com/v2/websocket</code></li>
</ul>

<p>CoinFLEX&#39;s application programming interface (API) provides our clients programmatic access to control aspects of their accounts and to place orders on the CoinFLEX trading platform. The API is accessible via WebSocket connection to the URIs listed above. Commands, replies, and notifications all traverse the WebSocket in text frames with JSON-formatted payloads.</p>

<p>Websocket commands can be sent in either of the following two formats:</p>

<p><strong>For subscription based requests</strong></p>

<p><code>{&quot;op&quot;: &quot;&lt;value&gt;&quot;, &quot;args&quot;: [&quot;&lt;value1&gt;&quot;, &quot;&lt;value2&gt;&quot;,.....]}</code></p>

<p><code>op</code>: can either be:</p>

<ul>
<li>subscribe</li>
<li>unsubscribe</li>
</ul>

<p><code>args</code>: the value(s) will be the instrument ID(s) or asset ID(s), for example:</p>

<ul>
<li>order:BTC-USD-SWAP-LIN</li>
<li>depth:ETH-USD-REPO-LIN</li>
<li>position:all</li>
</ul>

<p><strong>All other commands</strong></p>

<p><code>{&quot;op&quot;: &quot;&lt;command&gt;&quot;, &quot;data&quot;: {&quot;&lt;key1&gt;&quot;:&quot;&lt;value1&gt;&quot;,.....}}</code></p>

<p><code>op</code>: can be:</p>

<ul>
<li>login</li>
<li>placeorder</li>
<li>cancelorder</li>
<li>modifyorder</li>
</ul>

<p><code>data</code>: JSON string of the request object containing the required parameters</p>

<p>Further information regarding the error codes and corresponding error messages from a failed subscription or order command request can be found in a later section of this documentation <a href="#websocket-api-error-codes">Error Codes</a>.</p>

<p><strong>WebSocket adapter</strong></p>

<p><a href="https://pypi.org/project/coinflex-ws/">coinflex-ws</a> is a websocket wrapper to easily connect to CoinFLEX&#39;s websockets.</p>
<h2 id='websocket-api-authentication'>Authentication</h2>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'API-KEY'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'API-SECRET'</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">msg_auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg_auth</span><span class="p">))</span>
        <span class="k">while</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
            <span class="n">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">WebSocket</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ws</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">API-KEY</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">secretKey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">API-SECRET</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">ts</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">Base64</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacSHA256</span><span class="p">(</span><span class="nx">ts</span> <span class="o">+</span><span class="dl">'</span><span class="s1">GET/auth/self/verify</span><span class="dl">'</span><span class="p">,</span> <span class="nx">secretKey</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">msg</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>  
                            <span class="dl">"</span><span class="s2">op</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">login</span><span class="dl">"</span><span class="p">,</span>
                            <span class="dl">"</span><span class="s2">tag</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                            <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                              <span class="dl">"</span><span class="s2">apiKey</span><span class="dl">"</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span>
                              <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="nx">ts</span><span class="p">,</span>
                              <span class="dl">"</span><span class="s2">signature</span><span class="dl">"</span><span class="p">:</span> <span class="nx">sign</span>
                            <span class="p">}</span>
                          <span class="p">});</span>

<span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="dl">'</span><span class="s1">wss://v2stgapi.coinflex.com/v2/websocket</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">ws</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">websocket message from server : </span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">ws</span><span class="p">.</span><span class="nx">onopen</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491803978"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1592491808328"</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">event</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">login</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">tag</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1592491808329</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592492069732"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"code"</span><span class="p">:</span> <span class="s">"&lt;errorCode&gt;"</span><span class="p">,</span>
  <span class="s">"message"</span><span class="p">:</span> <span class="s">"&lt;errorMessage&gt;"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1592492031972"</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">event</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">login</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;errorCode&gt;</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;errorMessage&gt;</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">tag</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1592492031982</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>The Websocket API consists of public and private methods. The public methods do not require authentication.  The private methods requires an authenticated websocket connection.</p>

<p>To autenticate a websocket connection a &quot;login&quot; message must be sent containing the clients signature.</p>

<p>The signature is constructed using a HMAC SHA256 operation to get a hash value, which in turn requires the clients API Secret as the key and a constructed message string as the value for the HMAC operation. This hash value is then encoded as a BASE-64 value which becomes the signature used for authentication.</p>

<p>API keys (public and corresponding secret key) can be generated via the GUI within the clients account.</p>

<p>The message string used in the HMAC SHA256 operation is constructed in the following way:</p>

<ul>
<li><code>current millisecond timestamp + &#39;GET/auth/self/verify&#39;</code></li>
</ul>

<p>The signature can therefore be summarised by the following:</p>

<ul>
<li><code>Base64(HmacSHA256(current_ms_timestamp + &#39;GET/auth/self/verify&#39;, API-Secret))</code></li>
</ul>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><strong>&#39;login&#39;</strong></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>data</td>
<td>DICTIONARY object</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>apiKey</td>
<td>STRING</td>
<td>Yes</td>
<td>Clients public API key, visible in the GUI when created</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Yes</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>STRING</td>
<td>Yes</td>
<td><code>Base64(HmacSHA256(current_ms_timestamp + &#39;GET/auth/self/verify&#39;, API-Secret))</code></td>
</tr>
</tbody></table>
<h2 id='websocket-api-session-keep-alive'>Session Keep Alive</h2>
<p>To maintain an active WebSocket connection it is imperative to either be subscribed to a channel that pushes data at least once per minute (Depth or Balance) or send a ping to the server once per minute.</p>
<h2 id='websocket-api-order-commands'>Order Commands</h2><h3 id='websocket-api-order-commands-place-limit-order'>Place Limit Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1638237934061</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9431.48</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">place_order</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"placeorder"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="mi">1638237934061</span><span class="p">,</span>
            <span class="s">"recvWindow"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"BUY"</span><span class="p">,</span>
            <span class="s">"orderType"</span><span class="p">:</span> <span class="s">"LIMIT"</span><span class="p">,</span>
            <span class="s">"quantity"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
            <span class="s">"timeInForce"</span><span class="p">:</span> <span class="s">"GTC"</span><span class="p">,</span>
            <span class="s">"price"</span><span class="p">:</span> <span class="mf">9431.48</span>
          <span class="p">}</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">place_order</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'placeorder'</span><span class="p">:</span>
                <span class="k">continue</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491945248"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000700008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9431.48"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491945248"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9431.48"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<aside class="notice">
One account can only place up to 50 orders per second via websocket.
</aside>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>placeorder</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>data</td>
<td>DICTIONARY object</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>ULONG</td>
<td>No</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Yes</td>
<td><code>LIMIT</code></td>
</tr>
<tr>
<td>price</td>
<td>FLOAT</td>
<td>No</td>
<td>Price</td>
</tr>
<tr>
<td>quantity</td>
<td>FLOAT</td>
<td>Yes</td>
<td>Quantity (denominated by contractValCurrency)</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Yes</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>ENUM</td>
<td>No</td>
<td><ul><li><code>GTC</code> (Good-till-Cancel) - Default</li><li> <code>IOC</code> (Immediate or Cancel, i.e. Taker-only)</li><li> <code>FOK</code> (Fill or Kill, for full size)</li><li><code>MAKER_ONLY</code> (i.e. Post-only)</li><li> <code>MAKER_ONLY_REPRICE</code> (Reprices order to the best maker only price if the specified price were to lead to a taker trade)</li></ul></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-place-market-order'>Place Market Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1638237934061</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span> 
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">place_order</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"placeorder"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="mi">1638237934061</span><span class="p">,</span>
            <span class="s">"recvWindow"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"ETH-USD-SWAP-LIN"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"SELL"</span><span class="p">,</span>
            <span class="s">"orderType"</span><span class="p">:</span> <span class="s">"MARKET"</span><span class="p">,</span>
            <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">5</span>
          <span class="p">}</span>
<span class="p">}</span>


<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">place_order</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'placeorder'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491945248"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000700008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503359"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<aside class="notice">
One account can only place up to 50 orders per second via websocket.
</aside>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>placeorder</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>data</td>
<td>DICTIONARY object</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>ULONG</td>
<td>No</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Yes</td>
<td><code>MARKET</code></td>
</tr>
<tr>
<td>quantity</td>
<td>FLOAT</td>
<td>Yes</td>
<td>Quantity (denominated by contractValCurrency)</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Yes</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-place-stop-limit-order'>Place Stop Limit Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1638237934061</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP_LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY_REPRICE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="w">
         </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">place_order</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"placeorder"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="mi">1638237934061</span><span class="p">,</span>
            <span class="s">"recvWindow"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"ETH-USD-SWAP-LIN"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"BUY"</span><span class="p">,</span>
            <span class="s">"orderType"</span><span class="p">:</span> <span class="s">"STOP"</span><span class="p">,</span>
            <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s">"timeInForce"</span><span class="p">:</span> <span class="s">"MAKER_ONLY_REPRICE"</span><span class="p">,</span>
            <span class="s">"stopPrice"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s">"limitPrice"</span><span class="p">:</span> <span class="mi">120</span>
         <span class="p">}</span>
<span class="p">}</span>


<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">place_order</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'placeorder'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739098"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP_LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY_REPRICE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000700008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503359"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP_LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY_REPRICE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<aside class="notice">
One account can only place up to 50 orders per second via websocket.
</aside>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>placeorder</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>data</td>
<td>DICTIONARY object</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>ULONG</td>
<td>No</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>ETH-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Yes</td>
<td><code>STOP_LIMIT</code> for stop-limit orders (stop-market orders not supported)</td>
</tr>
<tr>
<td>quantity</td>
<td>FLOAT</td>
<td>Yes</td>
<td>Quantity (denominated by contractValCurrency)</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Yes</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>limitPrice</td>
<td>FLOAT</td>
<td>Yes</td>
<td>Limit price for the stop-limit order. <p><p>For <strong>BUY</strong> the limit price must be greater or equal to the stop price.<p><p>For <strong>SELL</strong> the limit price must be less or equal to the stop price.</td>
</tr>
<tr>
<td>stopPrice</td>
<td>FLOAT</td>
<td>Yes</td>
<td>Stop price for the stop-limit order.<p><p>Triggered by the best bid price for the <strong>SELL</strong> stop-limit order.<p><p>Triggered by the best ask price for the <strong>BUY</strong> stop-limit order.</td>
</tr>
<tr>
<td>timeInForce</td>
<td>ENUM</td>
<td>No</td>
<td><ul><li><code>GTC</code> (Good-till-Cancel) - Default</li><li> <code>IOC</code> (Immediate or Cancel, i.e. Taker-only)</li><li> <code>FOK</code> (Fill or Kill, for full size)</li><li><code>MAKER_ONLY</code> (i.e. Post-only)</li><li> <code>MAKER_ONLY_REPRICE</code> (Reprices order to the best maker only price if the specified price were to lead to a taker trade)</li></ul></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-place-batch-orders'>Place Batch Orders</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1638237934061</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1638237934061</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="w">
                </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">place_batch_order</span> <span class="o">=</span>\
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"placeorders"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="s">"dataArray"</span><span class="p">:</span> <span class="p">[{</span>
                  <span class="s">"timestamp"</span><span class="p">:</span> <span class="mi">1638237934061</span><span class="p">,</span>
                  <span class="s">"recvWindow"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
                  <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"ETH-USD-SWAP-LIN"</span><span class="p">,</span>
                  <span class="s">"side"</span><span class="p">:</span> <span class="s">"BUY"</span><span class="p">,</span>
                  <span class="s">"orderType"</span><span class="p">:</span> <span class="s">"LIMIT"</span><span class="p">,</span>
                  <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                  <span class="s">"timeInForce"</span><span class="p">:</span> <span class="s">"MAKER_ONLY"</span><span class="p">,</span>
                  <span class="s">"price"</span><span class="p">:</span> <span class="mi">100</span>
                <span class="p">},</span>
                <span class="p">{</span>
                  <span class="s">"timestamp"</span><span class="p">:</span> <span class="mi">1638237934061</span><span class="p">,</span>
                  <span class="s">"recvWindow"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
                  <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                  <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"BTC-USD"</span><span class="p">,</span>
                  <span class="s">"side"</span><span class="p">:</span> <span class="s">"SELL"</span><span class="p">,</span>
                  <span class="s">"orderType"</span><span class="p">:</span> <span class="s">"MARKET"</span><span class="p">,</span>
                  <span class="s">"quantity"</span><span class="p">:</span> <span class="mf">0.2</span>
                <span class="p">}]</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">place_batch_order</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'placeorder'</span><span class="p">:</span>
                <span class="k">continue</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739098"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000003700008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739136"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000004700009"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503359"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503457"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<p>All existing single order placement methods are supported:-</p>

<ul>
<li>LIMIT</li>
<li>MARKET</li>
<li>STOP LIMIT</li>
</ul>

<p>The websocket reply from the exchange will repond to each order in the batch separately, one order at a time, and has the same message format as the reponse for the single order placement method.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>placeorders</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>dataArray</td>
<td>LIST of dictionaries</td>
<td>Yes</td>
<td>A list of orders with each order in JSON format, the same format/parameters as the request for placing a single order. The max number of orders is still limited by the message length validation so by default up to 20 orders can be placed in a batch, assuming that each order JSON has 200 characters.</td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-cancel-order'>Cancel Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">cancel_order</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"cancelorder"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">456</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span>
            <span class="s">"orderId"</span><span class="p">:</span> <span class="mi">12</span>
          <span class="p">}</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cancel_order</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'cancelorder'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173964"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173964"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderClosed etc......).</p>

<p>This command can also be actioned via the trading GUI using the <strong>Cancel</strong> button next to an open order in the <strong>Open Orders</strong> blotter for both Spot and Derivative markets.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>cancelorder</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>data</td>
<td>DICTIONARY object</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderId</td>
<td>INTEGER</td>
<td>Yes</td>
<td>Unique order ID from the exchange</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-cancel-batch-orders'>Cancel Batch Orders</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="w">
                </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">cancel_batch_order</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"cancelorders"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">456</span><span class="p">,</span>
  <span class="s">"dataArray"</span><span class="p">:</span> <span class="p">[{</span>
                  <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span>
                  <span class="s">"orderId"</span><span class="p">:</span> <span class="mi">12</span>
                <span class="p">},</span>
                <span class="p">{</span>
                  <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"BCH-USD"</span><span class="p">,</span>
                  <span class="s">"orderId"</span><span class="p">:</span> <span class="mi">34</span>
                <span class="p">}]</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cancel_batch_order</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'cancelorder'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173964"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173978"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173964"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173989"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderClosed etc......).</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>cancelorders</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>dataArray</td>
<td>LIST of dictionaries</td>
<td>A list of orders with each order in JSON format, the same format/parameters as the request for cancelling a single order. The max number of orders is still limited by the message length validation so by default up to 20 orders can be placed in a batch, assuming that each order JSON has 200 characters.</td>
<td></td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-modify-order'>Modify Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1638237934061</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">9800</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">modify_order</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"modifyorder"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="mi">1638237934061</span><span class="p">,</span>
            <span class="s">"recvWindow"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span>
            <span class="s">"orderId"</span><span class="p">:</span> <span class="mi">888</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"BUY"</span><span class="p">,</span>
            <span class="s">"price"</span><span class="p">:</span> <span class="mi">9800</span><span class="p">,</span>
            <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">2</span>
          <span class="p">}</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">modify_order</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'modifyorder'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491032427"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
          </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">9800</span><span class="p">,</span><span class="w">
          </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
         </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491032427"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">9800</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderModified etc......).</p>

<aside class="notice">
One account can only place up to 50 orders per second via websocket.
</aside>

<p>Currently only LIMIT orders are supported by the modify order command.</p>

<ul>
<li>The price and/or quantity and/or side of an order can be modified.</li>
<li>Reducing the quantity will leave the modified orders position in the order queue <strong>unchanged</strong> meaning the order ID is unchanged.</li>
<li>Increasing the quantity will <strong>always</strong> move the modified order to the back of the order queue, resulting in a new order ID.</li>
<li>Modifying the price will <strong>always</strong> move the modified order to the back of the order queue, resulting in a new order ID.</li>
<li>Modifying the side will <strong>always</strong> move the modified order to the back of the order queue, resulting in a new order ID.</li>
</ul>

<p>Please note that when a new order ID is issued the original order is actually <strong>closed</strong> and a new order with a new order ID is <strong>opened</strong>, replacing the original order.  This is described in further detail in the section <a href="#websocket-api-subscriptions-private-order-channel-ordermodified">Order Channel - OrderModified</a>.    </p>

<p>Please be aware that modifying the side of an existing GTC LIMIT order from BUY to SELL or vice versa <strong>without</strong> modifying the price could result in the order matching immediately since its quite likely the new order will become an agressing taker order.  </p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>modifyorder</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>data</td>
<td>DICTIONARY object</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderId</td>
<td>INTEGER</td>
<td>Yes</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>No</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>price</td>
<td>FLOAT</td>
<td>No</td>
<td>Price for limit orders</td>
</tr>
<tr>
<td>quantity</td>
<td>FLOAT</td>
<td>No</td>
<td>Quantity (denominated by <code>contractValCurrency</code>)</td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-modify-batch-orders'>Modify Batch Orders</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1638237934061</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">304304315061932310</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1638237934061</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">304304315061864646</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10001</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.21</span><span class="w">
                </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">modify_batch_order</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"modifyorders"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="s">"dataArray"</span><span class="p">:</span> <span class="p">[{</span>
                  <span class="s">"timestamp"</span><span class="p">:</span> <span class="mi">1638237934061</span><span class="p">,</span>
                  <span class="s">"recvWindow"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
                  <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"ETH-USD-SWAP-LIN"</span><span class="p">,</span>
                  <span class="s">"side"</span><span class="p">:</span> <span class="s">"BUY"</span><span class="p">,</span>
                  <span class="s">"orderID"</span><span class="p">:</span> <span class="mi">304304315061932310</span><span class="p">,</span>
                  <span class="s">"price"</span><span class="p">:</span> <span class="mi">101</span><span class="p">,</span>
                <span class="p">},</span> 
                <span class="p">{</span>
                  <span class="s">"timestamp"</span><span class="p">:</span> <span class="mi">1638237934061</span><span class="p">,</span>
                  <span class="s">"recvWindow"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
                  <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"BTC-USD"</span><span class="p">,</span>
                  <span class="s">"orderID"</span><span class="p">:</span> <span class="mi">304304315061864646</span><span class="p">,</span>
                  <span class="s">"price"</span><span class="p">:</span> <span class="mi">10001</span><span class="p">,</span>
                  <span class="s">"quantity"</span><span class="p">:</span> <span class="mf">0.21</span>
                <span class="p">}]</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">modify_batch_order</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'modifyorder'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739098"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304304315061932310"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739136"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304304315061864646"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.21</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503359"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">304304315061932310</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503457"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">304304315061864646</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.21</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10001</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<p>The websocket reply from the exchange will repond to each order in the batch separately, one order at a time, and has the same message format as the reponse for the single order modify method.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>modifyorders</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>dataArray</td>
<td>LIST of dictionaries</td>
<td>Yes</td>
<td>A list of orders with each order in JSON format, the same format/parameters as the request for modifying a single order.  The max number of orders is still limited by the message length validation so by default up to 20 orders can be modified in a batch, assuming that each order JSON has 200 characters.</td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected.</td>
</tr>
</tbody></table>
<h2 id='websocket-api-subscriptions-private'>Subscriptions - Private</h2>
<p>All subscriptions to private account channels requires an authenticated websocket connection.</p>

<p>Multiple subscriptions to different channels both public and private can be made within a single subscription command: </p>

<p><code>{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;&lt;value1&gt;&quot;, &quot;&lt;value2&gt;&quot;,.....]}</code></p>
<h3 id='websocket-api-subscriptions-private-balance-channel'>Balance Channel</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"balance:all"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">OR</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"balance:USD"</span><span class="p">,</span><span class="w"> </span><span class="s2">"balance:FLEX"</span><span class="p">,</span><span class="w"> </span><span class="err">........</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">balance</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"subscribe"</span><span class="p">,</span>
  <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="s">"balance:all"</span><span class="p">],</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">101</span>
<span class="p">}</span>
<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">balance</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'balance'</span><span class="p">:</span>
                 <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>

</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;args value&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371401"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Balance channel format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599693365059"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINEAR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599694369431"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599694343242"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="err">........</span><span class="w">
          </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency</strong> : 250ms</p>

<p>The websocket will reply with the shown success response format for <strong>each</strong> balance asset channel which has been successfully subscribed to.</p>

<p>If a subscription has been made to <strong>balance:all</strong>, the data array in the message from this balance channel will contain a JSON <strong>list</strong>. Each JSON will contain balance details for each spot asset.  Otherwise the data array will contain a <strong>single</strong> JSON corresponding to one spot asset per asset channel subscription.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>LIST</td>
<td>Yes</td>
<td><code>balance:all</code> or a list of individual assets <code>balance:&lt;assetId&gt;</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
</tbody></table>

<p><sub><strong>Channel Update Fields</strong></sub> </p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>balance</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td><code>LINEAR</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total spot asset balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved asset balance for working spot and repo orders</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Base asset ID e.g. <code>BTC</code></td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Remaining available asset balance (total - reserved)</td>
</tr>
<tr>
<td>quantityLastUpdated</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-private-position-channel'>Position Channel</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"position:all"</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">OR</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"position:BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> </span><span class="s2">"position:BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> </span><span class="err">........</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">position</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"subscribe"</span><span class="p">,</span> 
  <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="s">"position:all"</span><span class="p">],</span> 
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">102</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">position</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'position'</span><span class="p">:</span>
                 <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>

</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;args value&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371401"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Position channel format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"position"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371481"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1900.0"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1616053755423"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-5.6680"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56934.8258"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1617099855968"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.542000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1220.9494164000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53179.2"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="err">...</span><span class="w">
          </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency</strong> : real-time, on position update</p>

<p>The websocket will reply with the shown success response format for <strong>each</strong> position channel which has been successfully subscribed to.</p>

<p>If a subscription has been made to <strong>position:all</strong>, the data array in the message from this position channel will contain a JSON <strong>list</strong>. Each JSON will contain position details for instrument. Otherwise the data array will contain a <strong>single</strong> JSON corresponding to one instrument per position channel subscription.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>LIST</td>
<td>Yes</td>
<td><code>position:all</code> or a list of individual instruments <code>position:&lt;instrumentId&gt;</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
</tbody></table>

<p><sub><strong>Channel Update Fields</strong></sub> </p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>position</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Average entry price of total position (Cost / Size)</td>
</tr>
<tr>
<td>lastUpdated</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Base asset ID e.g. <code>ETH</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Position size (+/-)</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>e.g. <code>ETH-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Postion profit and lost</td>
</tr>
<tr>
<td>estLiquidationPrice</td>
<td>STRING</td>
<td>Estimated liquidation price, return 0 if it is negative(&lt;0)</td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-private-order-channel'>Order Channel</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"order:all"</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">OR</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"order:FLEX-USD"</span><span class="p">,</span><span class="w"> </span><span class="s2">"order:ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> </span><span class="err">.....</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="n">order</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"subscribe"</span><span class="p">,</span> 
  <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="s">"order:all"</span><span class="p">],</span> 
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">102</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'login'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">order</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'event'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'event'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'order'</span><span class="p">:</span>
                 <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>

</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;args value&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371401"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency</strong> : real-time, on order update</p>

<p>The websocket will reply with the shown success response format for EACH order channel which has been successfully subscribed to.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>LIST</td>
<td>Yes</td>
<td><code>order:all</code> or a list of individual markets <code>order:&lt;marketCode&gt;</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-orderopened'>OrderOpened</h4>
<blockquote>
<p><strong>OrderOpened message format - LIMIT order</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderOpened"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9600"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w"> </span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"False"</span><span class="w">
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>OrderOpened message format - STOP LIMIT order</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderOpened"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2245"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IOC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9280"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9300"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP_LIMIT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="w">
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>order</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderOpened</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Limit price submitted (only applicable for LIMIT order types)</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity submitted</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Order status</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code e.g. <code>FLEX-USD</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Client submitted time in force, <code>GTC</code> by default</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td><code>LIMIT</code> or <code>STOP_LIMIT</code></td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price submitted (only applicable for STOP LIMIT order types)</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price submitted (only applicable for STOP LIMIT order types)</td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>False</code> or <code>True</code></td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-orderclosed'>OrderClosed</h4>
<blockquote>
<p><strong>OrderClosed message format - LIMIT order</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderClosed"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9600"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Canceled status&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Time in force&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"False"</span><span class="w"> 
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>OrderClosed message format - STOP LIMIT order</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderClosed"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED_BY_USER"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Time in force&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9100"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9120"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP LIMIT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="w"> 
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>There are multiple scenarios in which an order is closed as described by the <strong>status</strong> field in the OrderClosed message.  In summary orders can be closed by:-</p>

<ul>
<li><code>CANCELED_BY_USER</code> - the client themselves initiating this action or the liquidation engine on the clients behalf if the clients account is below the maintenance margin threshold</li>
<li><code>CANCELED_BY_MAKER_ONLY</code> - if a maker-only order is priced such that it would actually be an agressing taker trade, the order is automatically canceled to prevent this order from matching as a taker</li>
<li><code>CANCELED_BY_FOK</code> - since fill-or-kill orders requires <strong>all</strong> of the order quantity to immediately take and match at the submitted limit price or better, if no such match is possible then the whole order quantity is canceled</li>
<li><code>CANCELED_ALL_BY_IOC</code> - since immediate-or-cancel orders also requires an immediate match at the specified limit price or better, if no such match price is possible for <strong>any</strong> of the submitted order quantity then the whole order quantity is canceled</li>
<li><code>CANCELED_PARTIAL_BY_IOC</code> - since immediate-or-cancel orders only requires <strong>some</strong> of the submitted order quantity to immediately take and match at the specified limit price or better, if a match is possible for only a <strong>partial</strong> quantity then only the remaining order quantity which didn&#39;t immediately match is canceled</li>
<li><code>CANCELED_BY_AMEND</code> - if a <strong>Modify Order</strong> command updated an order such that it changed its position in the order queue, the original order would be closed and an OrderClosed notice would be broadcasted in the Order Channel with this status</li>
</ul>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>order</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderClosed</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Limit price of closed order (only applicable for LIMIT order types)</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Original order quantity of closed order</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td><ul><li><code>CANCELED_BY_USER</code></li><li><code>CANCELED_BY_MAKER_ONLY</code></li><li><code>CANCELED_BY_FOK</code></li><li><code>CANCELED_ALL_BY_IOC</code></li><li><code>CANCELED_PARTIAL_BY_IOC</code></li><li><code>CANCELED_BY_AMEND</code></li></ul></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Time in force of closed order</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>remainQuantity</td>
<td>STRING</td>
<td>Remaining order quantity of closed order</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price of closed stop order (only applicable for STOP LIMIT order types)</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price of closed stop order (only applicable for STOP LIMIT order types)</td>
</tr>
<tr>
<td>ordertype</td>
<td>STRING</td>
<td><code>LIMIT</code> or <code>STOP_LIMIT</code></td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>False</code> or <code>True</code></td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-orderclosed-failure'>OrderClosed Failure</h4>
<blockquote>
<p><strong>OrderClosed failure message format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCEL"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order request was rejected : REJECT_CANCEL_ORDER_ID_NOT_FOUND"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100004"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3330802124194931673</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"displayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastMatchPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastMatchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastMatchedOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastMatchedOrderId2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"matchedId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"matchedType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REJECT_CANCEL_ORDER_ID_NOT_FOUND"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timeCondition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timestampEpochMs"</span><span class="p">:</span><span class="w"> </span><span class="mi">1615377638518</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This order message can occur if:- </p>

<ul>
<li>an order has already been matched by the time the cancel order command is recieved and processed by the exchange which means this order is no longer active and therefore cannot be closed.</li>
<li>multiple cancel order commands for the <strong>same</strong> orderID have been sent in quick sucession to the exchange by mistake and only the first cancel order command is accepted and processed by the exchange which means this order is no longer active and therefore cannot be closed again.</li>
</ul>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>submitted</td>
<td>BOOL</td>
<td></td>
</tr>
<tr>
<td>message</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>displayQuantity</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>lastMatchPrice</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>lastMatchQuantity</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>lastMatchedOrderId</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>lastMatchedOrderId2</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>matchedId</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>matchedType</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>remainQuantity</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timeCondition</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestampEpochMs</td>
<td>LONG</td>
<td></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>isTriggered</td>
<td>BOOL</td>
<td></td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-ordermodified'>OrderModified</h4>
<blockquote>
<p><strong>OrderModified message format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderModified"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94335"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9600"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">    
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"False"</span><span class="w"> 
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>As described in a previous section <a href="#websocket-api-order-commands-modify-order">Order Commands - Modify Order</a>, the Modify Order command can potentially affect the queue position of the order depending on which parameter of the original order has been modified.</p>

<p>If the orders queue position is <strong>unchanged</strong> because the orders quantity has been <strong>reduced</strong> and no other order parameter has been changed then this <strong>OrderModified</strong> message will be sent via the Order Channel giving the full details of the modified order.  In this case the order ID is unchanged.</p>

<p>If however the order queue position has changed becuase the orders: (1) side was modified, (2) quantity was increased, (3) price was changed or any combination of these, then the exchange will close the orginal order with an <strong>OrderClosed</strong> message with <strong>status</strong> <code>CANCELED_BY_AMEND</code>, followed by the opening of a new order with an <strong>OrderOpened</strong> message containing a new order ID to reflect the orders new position in the order queue.</p>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>order</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderModified</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Limit price of modified order (only applicable for LIMIT order types)</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity of modified order</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Order status</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Client submitted time in force, <code>GTC</code> by default</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td><code>LIMIT</code> or <code>STOP_LIMIT</code></td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price of modified order (only applicable for STOP LIMIT order types)</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price of modified order (only applicable for STOP LIMIT order types)</td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>False</code> or <code>True</code></td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-ordermodified-failure'>OrderModified Failure</h4>
<blockquote>
<p><strong>OrderModified failure message format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AMEND"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order request was rejected : REJECT_AMEND_ORDER_ID_NOT_FOUND"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100004"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3330802124194931673</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"displayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">917.5</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastMatchPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastMatchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastMatchedOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastMatchedOrderId2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"matchedId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"matchedType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REJECT_AMEND_ORDER_ID_NOT_FOUND"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timeCondition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUSHI-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timestampEpochMs"</span><span class="p">:</span><span class="w"> </span><span class="mi">1615377638518</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">917.5</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This order message can occur if an order has already been matched by the time the modify order command is recieved and processed by the exchange which means this order is no longer active and therefore cannot be modified.</p>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>submitted</td>
<td>BOOL</td>
<td></td>
</tr>
<tr>
<td>message</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>displayQuantity</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>lastMatchPrice</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>lastMatchQuantity</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>lastMatchedOrderId</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>lastMatchedOrderId2</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>matchedId</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>matchedType</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>remainQuantity</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timeCondition</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestampEpochMs</td>
<td>LONG</td>
<td></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL</td>
<td></td>
</tr>
<tr>
<td>isTriggered</td>
<td>BOOL</td>
<td></td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-ordermatched'>OrderMatched</h4>
<blockquote>
<p><strong>OrderMatched message format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderMatched"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"567531657"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9300"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Matched status&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592490254168"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11568123"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9300"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Order type&gt;"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9050"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.7"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"feeInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">   
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"False"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>order</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderMatched</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Limit price submitted (only applicable for LIMIT order types)</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price submitted (only applicable for STOP LIMIT order types)</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price submitted (only applicable for STOP LIMIT order types)</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Order quantity submitted</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td><code>FILLED</code> or <code>PARTIAL_FILL</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code i.e. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Client submitted time in force (only applicable for LIMIT and STOP LIMIT order types)</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp of order match</td>
</tr>
<tr>
<td>matchID</td>
<td>STRING</td>
<td>Exchange match ID</td>
</tr>
<tr>
<td>matchPrice</td>
<td>STRING</td>
<td>Match price of order from this match ID</td>
</tr>
<tr>
<td>matchQuantity</td>
<td>STRING</td>
<td>Match quantity of order from this match ID</td>
</tr>
<tr>
<td>orderMatchType</td>
<td>STRING</td>
<td><code>MAKER</code> or <code>TAKER</code></td>
</tr>
<tr>
<td>remainQuantity</td>
<td>STRING</td>
<td>Remaining order quantity</td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td><ul><li><code>LIMIT</code></li><li><code>MARKET</code></li><li><code>STOP_LIMIT</code></li></ul></td>
</tr>
<tr>
<td>fees</td>
<td>STRING</td>
<td>Amount of fees paid from this match ID</td>
</tr>
<tr>
<td>feeInstrumentId</td>
<td>STRING</td>
<td>Instrument ID of fees paid from this match ID</td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>False</code> (or <code>True</code> for STOP LIMIT order types)</td>
</tr>
</tbody></table>
<h2 id='websocket-api-subscriptions-public'>Subscriptions - Public</h2>
<p>All subscriptions to public channels do <strong>not</strong> require an authenticated websocket connection.</p>

<p>Multiple subscriptions to different channels both public and private can be made within a single subscription command:</p>

<p><code>{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;&lt;value1&gt;&quot;, &quot;&lt;value2&gt;&quot;,.....]}</code></p>
<h3 id='websocket-api-subscriptions-public-orderbook-depth'>Orderbook Depth</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"depth:BTC-USD-SWAP-LIN"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">orderbook_depth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"subscribe"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">103</span><span class="p">,</span>
  <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="s">"depth:BTC-USD-SWAP-LIN"</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">orderbook_depth</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'success'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'True'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>

</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth:BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371601"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Orderbook depth channel format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">1608898592006137237</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1609350022785"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="mi">1139901235</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mf">5556.82</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">    </span><span class="err">//price</span><span class="p">,</span><span class="w"> </span><span class="err">quantity</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w">
                </span><span class="p">[</span><span class="mf">5556.84</span><span class="p">,</span><span class="w"> </span><span class="mf">98.13</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
                </span><span class="p">[</span><span class="mf">5556.92</span><span class="p">,</span><span class="w"> </span><span class="mf">1.582</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
                </span><span class="p">[</span><span class="mf">5557.6</span><span class="p">,</span><span class="w"> </span><span class="mf">4.291</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
                </span><span class="p">[</span><span class="mf">5557.85</span><span class="p">,</span><span class="w"> </span><span class="mf">2.54</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="w">
              </span><span class="p">],</span><span class="w">
      </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mf">5556.81</span><span class="p">,</span><span class="w"> </span><span class="mf">1.92</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">  </span><span class="err">//price</span><span class="p">,</span><span class="w"> </span><span class="err">quantity</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w">
                </span><span class="p">[</span><span class="mf">5556.8</span><span class="p">,</span><span class="w"> </span><span class="mf">2.1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
                </span><span class="p">[</span><span class="mf">5556.79</span><span class="p">,</span><span class="w"> </span><span class="mf">1.9</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
                </span><span class="p">[</span><span class="mf">5556.19</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
                </span><span class="p">[</span><span class="mf">5556.08</span><span class="p">,</span><span class="w"> </span><span class="mf">2.972</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="w">
              </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency:</strong> 50ms</p>

<p>This orderbook depth channel sends a snapshot of the entire orderbook every 50ms.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>args</td>
<td>LIST</td>
<td>Yes</td>
<td>List of individual markets <code>&lt;depth&gt;:&lt;marketCode&gt;</code> e.g: <code>[depthL10:BTC-USD-SWAP-LIN]</code>, the <code>depth</code> can be <code>depthL5</code> <code>depthL10</code> <code>depthL25</code> <code>depth</code>(includes all)</td>
</tr>
</tbody></table>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>depth</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>seqNum</td>
<td>INTEGER</td>
<td>Sequence number of the order book snapshot</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>asks</td>
<td>LIST of floats</td>
<td>Sell side depth; <ol><li>price</li><li>quantity</li><li>0</li><li>0</li></ol></td>
</tr>
<tr>
<td>bids</td>
<td>LIST of floats</td>
<td>Buy side depth; <ol><li>price</li><li>quantity</li><li>0</li><li>0</li></ol></td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-public-trade'>Trade</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"trade:BTC-USD-SWAP-LIN"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">trade</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"subscribe"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="s">"trade:BTC-USD-SWAP-LIN"</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">trade</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'success'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'True'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>

</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"trade:BTC-USD-SWAP-LIN"</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594299886880"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Trade channel format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trade"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2778148208082945"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5556.91"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594299886890"</span><span class="w">
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency:</strong> real-time, with every order matched event</p>

<p>This trade channel sends public trade information whenever an order is matched on the orderbook. </p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>args</td>
<td>LIST</td>
<td>Yes</td>
<td>list of individual markets <code>trade:&lt;marketCode&gt;</code></td>
</tr>
</tbody></table>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>trade</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>tradeId</td>
<td>STRING</td>
<td>Transaction Id</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Matched price</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Matched quantity</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Matched side</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Matched timestamp</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-public-ticker'>Ticker</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ticker:all"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">OR</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ticker:FLEX-USD"</span><span class="p">,</span><span class="w"> </span><span class="err">........</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">ticker</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"subscribe"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="s">"ticker:all"</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ticker</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'success'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'True'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;args value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594299886890"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Channel update format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.80500000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.39600000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.53300000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1INCH-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1622020931049"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.304"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastMarkPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.304"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.80600000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.39600000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.53300000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1INCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1622020931046"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.304"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastMarkPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.304"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency:</strong> 500 ms</p>

<p>The ticker channel pushes live price and volume information about the contract.</p>

<p>The websocket will reply with the shown success response format for <strong>each</strong> ticker channel which has been successfully subscribed to.</p>

<p>The data array in the message from this ticker channel will contain a single JSON corresponding to one ticker subscription.</p>

<p>If you subcribe &quot;ticker:all&quot;, you would get one whole message containing all markets.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>args</td>
<td>LIST</td>
<td>Yes</td>
<td><code>ticker:all</code> or a list of individual markets <code>ticker:&lt;marketCode&gt;</code></td>
</tr>
</tbody></table>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>ticker</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>last</td>
<td>STRING</td>
<td>Last traded price</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>open24h</td>
<td>STRING</td>
<td>24 hour rolling opening price</td>
</tr>
<tr>
<td>volume24h</td>
<td>STRING</td>
<td>24 hour rolling trading volume in counter currency</td>
</tr>
<tr>
<td>currencyVolume24h</td>
<td>STRING</td>
<td>24 hour rolling trading volume in base currency</td>
</tr>
<tr>
<td>high24h</td>
<td>STRING</td>
<td>24 hour highest price</td>
</tr>
<tr>
<td>low24h</td>
<td>STRING</td>
<td>24 hour lowest price</td>
</tr>
<tr>
<td>openInterest</td>
<td>STRING</td>
<td>Open interest</td>
</tr>
<tr>
<td>lastQty</td>
<td>STRING</td>
<td>Last traded price amount</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-public-candles'>Candles</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"candles60s:BTC-USD-SWAP-LIN"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">candles</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"subscribe"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="s">"candles60s:BTC-USD-SWAP-LIN"</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">candles</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'success'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'True'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"candles60s:BTC-USD-SWAP-LIN"</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594313762698"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Channel update format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"candle60s"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"candle"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"1594313762698"</span><span class="p">,</span><span class="w"> </span><span class="err">//timestamp</span><span class="w">
                </span><span class="s2">"9633.1"</span><span class="p">,</span><span class="w">        </span><span class="err">//open</span><span class="w">
                </span><span class="s2">"9693.9"</span><span class="p">,</span><span class="w">        </span><span class="err">//high</span><span class="w">
                </span><span class="s2">"9238.1"</span><span class="p">,</span><span class="w">        </span><span class="err">//low</span><span class="w">
                </span><span class="s2">"9630.2"</span><span class="p">,</span><span class="w">        </span><span class="err">//close</span><span class="w">
                </span><span class="s2">"45247"</span><span class="p">,</span><span class="w">         </span><span class="err">//volume</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">counter</span><span class="w"> </span><span class="err">currency</span><span class="w">
                </span><span class="s2">"5.3"</span><span class="w">            </span><span class="err">//volume</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">base</span><span class="w"> </span><span class="err">currency</span><span class="w">
              </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency</strong>: 500ms</p>

<p><strong>Granularity</strong>: 60s, 180s, 300s, 900s, 1800s, 3600s, 7200s, 14400s, 21600s, 43200s, 86400s</p>

<p>The candles channel pushes candlestick data for the current candle.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>args</td>
<td>LIST</td>
<td>Yes</td>
<td>list of individual candle granularity and market <code>candles&lt;granularity&gt;:&lt;marketCode&gt;</code></td>
</tr>
</tbody></table>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>candles&lt;granularity&gt;</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>candle</td>
<td>LIST of strings</td>
<td><ol><li>timestamp</li><li>open</li><li>high</li><li>low</li><li>close</li><li>volume in counter currency</li><li>volume in base currency</li></ol></td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-public-liquidation-rfq'>Liquidation RFQ</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"liquidationRFQ"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">liquidation</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"subscribe"</span><span class="p">,</span> 
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="s">"liquidationRFQ"</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">liquidation</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'success'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'True'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"liquidationRFQ"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1613774604469"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Channel update format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"liquidationRFQ"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1613774607889"</span><span class="w">
          </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency</strong>: real-time, whenever there is planned liquidation event of a clients position OR an auto-borrow OR an auto-borrow repayment</p>

<p>The liquidation RFQ (request for quotes) channel publishes a message 50ms before a liquidation event is due to occur.  A liquidation event can be classed as one of the following:-</p>

<ul>
<li>liquidation of a clients traded position (perps, futures or index)</li>
<li>an auto-borrow (in a repo orderbook) of USD because a clients account has negative USD balances greater than the allowable threshold</li>
<li>an auto-repayment (in a repo orderbook) of a previous auto-borrow because a clients account now has sufficient USD balances to repay the loan</li>
</ul>

<p>The message will contain the market code and is designed to give users an opportunity to make a 2 way market for the upcoming liquidation event.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>args</td>
<td>Single element LIST</td>
<td>Yes</td>
<td><code>liquidationRFQ</code></td>
</tr>
</tbody></table>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>liquidationRFQ</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code of liquidation</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-public-market'>Market</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"market:all"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">OR</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"market:FLEX-USD"</span><span class="p">,</span><span class="w"> </span><span class="err">........</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">market</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"subscribe"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="s">"market:all"</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">url</span><span class="o">=</span> <span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"websocket disconnected"</span><span class="p">)</span>
                <span class="n">ws</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">'nonce'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">market</span><span class="p">))</span>
            <span class="k">elif</span> <span class="s">'success'</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s">'success'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'True'</span><span class="p">:</span>
                <span class="k">continue</span>
<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;args value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594299886890"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Channel update format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"marketPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.367"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"listingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593288000000"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"qtyIncrement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"upperPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.417"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"lowerPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.317"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"marketId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3001000000000"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"referencePair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX/USD"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"tickSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"marketPriceLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1613769981920"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX/USD Spot"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX-USD"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="w">
          </span><span class="p">},</span><span class="w"> 
          </span><span class="err">........</span><span class="w">
        </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency:</strong> 1s</p>

<p>The market channel pushes live information about the market such as the current market price and the lower &amp; upper sanity bounds as well as reference data related to the market.</p>

<p>The websocket will reply with the shown success response format for <strong>each</strong> market which has been successfully subscribed to.</p>

<p>If a subscription has been made to <strong>market:all</strong>, the data array in the message from this channel will contain a JSON <strong>list</strong> of all markets. Each JSON will contain information for each market seperately. Otherwise the data array will contain a single JSON corresponding to one market per market channel subscription.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER or STRING</td>
<td>No</td>
<td>If given it will be echoed in the reply</td>
</tr>
<tr>
<td>args</td>
<td>LIST</td>
<td>Yes</td>
<td><code>market:all</code> or a list of individual markets <code>market:&lt;marketCode&gt;</code></td>
</tr>
</tbody></table>

<p><sub><strong>Channel Update Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>market</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>marketPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>listingDate</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>qtyIncrement</td>
<td>STRING</td>
<td>Quantity increment</td>
</tr>
<tr>
<td>upperPriceBound</td>
<td>STRING</td>
<td>Upper sanity price bound</td>
</tr>
<tr>
<td>lowerPriceBound</td>
<td>STRING</td>
<td>Lower sanity price bound</td>
</tr>
<tr>
<td>counter</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>marketId</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>referencePair</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>tickSize</td>
<td>STRING</td>
<td>Tick size</td>
</tr>
<tr>
<td>marketPriceLastUpdated</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>marginCurrency</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>base</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h2 id='websocket-api-other-responses'>Other Responses</h2>
<p>By subscribing to an authenticated websocket there may be instances when a REST method will also generate a websocket reponse in addition to the REST reply.  There are also some GUI commands which will generate a websocket reponse.</p>
<h3 id='websocket-api-other-responses-cancel-all-open-orders'>Cancel All Open Orders</h3>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCEL"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1612476498953"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Documentation for the REST method for cancelling <strong>all</strong> open orders for an account can be found here <a href="#rest-api-methods-private-delete-v2-cancel-orders">Cancel All Orders</a>.</p>

<p>Documentation for the REST method for cancelling <strong>all</strong> open orders <strong>by market</strong> for an account can be found here <a href="#rest-api-methods-private-delete-v2-cancel-orders-marketcode">Cancel All Orders By Market</a>.</p>

<p>In both these instances a successful action will generate the shown repsonse in an authenticated websocket.</p>

<p>This action can also be executed via the trading GUI using the <strong>Cancel All</strong> button on the <strong>Open Orders</strong> blotter for both Spot and Derivative markets.</p>
<h2 id='websocket-api-error-codes'>Error Codes</h2>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Both subscription and order command requests sent via websocket can be rejected and the failure response will return an error code and a corresponding error message explaining the reason for the rejection.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Error Message</th>
</tr>
</thead><tbody>
<tr>
<td>05001</td>
<td>Your operation authority is invalid</td>
</tr>
<tr>
<td>20000</td>
<td>Signature is invalid</td>
</tr>
<tr>
<td>20001</td>
<td>Operation failed, please contact system administrator</td>
</tr>
<tr>
<td>20002</td>
<td>Unexpected error, please check if your request data complies with the specification.</td>
</tr>
<tr>
<td>20003</td>
<td>Unrecognized operation</td>
</tr>
<tr>
<td>20005</td>
<td>Already logged in</td>
</tr>
<tr>
<td>20006</td>
<td>Quantity must be greater than zero</td>
</tr>
<tr>
<td>20007</td>
<td>You are accessing server too rapidly</td>
</tr>
<tr>
<td>20008</td>
<td>clientOrderId must be greater than zero if provided</td>
</tr>
<tr>
<td>20009</td>
<td>JSON data format is invalid</td>
</tr>
<tr>
<td>20010</td>
<td>Either clientOrderId or orderId is required</td>
</tr>
<tr>
<td>20011</td>
<td>marketCode is required</td>
</tr>
<tr>
<td>20012</td>
<td>side is required</td>
</tr>
<tr>
<td>20013</td>
<td>orderType is required</td>
</tr>
<tr>
<td>20014</td>
<td>clientOrderId is not long type</td>
</tr>
<tr>
<td>20015</td>
<td>marketCode is invalid</td>
</tr>
<tr>
<td>20016</td>
<td>side is invalid</td>
</tr>
<tr>
<td>20017</td>
<td>orderType is invalid</td>
</tr>
<tr>
<td>20018</td>
<td>timeInForce is invalid</td>
</tr>
<tr>
<td>20019</td>
<td>orderId is invalid</td>
</tr>
<tr>
<td>20020</td>
<td>stopPrice or limitPrice is invalid</td>
</tr>
<tr>
<td>20021</td>
<td>price is invalid</td>
</tr>
<tr>
<td>20022</td>
<td>price is required for LIMIT order</td>
</tr>
<tr>
<td>20023</td>
<td>timestamp is required</td>
</tr>
<tr>
<td>20024</td>
<td>timestamp exceeds the threshold</td>
</tr>
<tr>
<td>20025</td>
<td>API key is invalid</td>
</tr>
<tr>
<td>20026</td>
<td>Token is invalid or expired</td>
</tr>
<tr>
<td>20027</td>
<td>The length of the message exceeds the maximum length</td>
</tr>
<tr>
<td>20028</td>
<td>price or stopPrice or limitPrice must be greater than zero</td>
</tr>
<tr>
<td>20029</td>
<td>stopPrice must be less than limitPrice for Buy Stop Order</td>
</tr>
<tr>
<td>20030</td>
<td>limitPrice must be less than stopPrice for Sell Stop Order</td>
</tr>
<tr>
<td>300011</td>
<td>Repo market orders are not allowed during the auction window</td>
</tr>
<tr>
<td>300012</td>
<td>Repo bids above 0 and offers below 0 are not allowed during the auction window</td>
</tr>
<tr>
<td>100005</td>
<td>Open order not found with id</td>
</tr>
<tr>
<td>100006</td>
<td>Open order does not match to the given account</td>
</tr>
<tr>
<td>200050</td>
<td>The market is not active</td>
</tr>
<tr>
<td>710002</td>
<td>FAILED sanity bound check as price (.....) &lt; lower bound (.....)</td>
</tr>
<tr>
<td>710003</td>
<td>FAILED sanity bound check as price (.....) &gt; upper bound (.....)</td>
</tr>
<tr>
<td>710004</td>
<td>FAILED net position check as position (.....) &gt; threshold (.....)</td>
</tr>
<tr>
<td>710005</td>
<td>FAILED margin check as collateral (.....) &lt; var (.....)</td>
</tr>
<tr>
<td>710006</td>
<td>FAILED balance check as balance (.....) &lt; value (.....)</td>
</tr>
</tbody></table>
<h1 id='rest-api'>REST API</h1>
<p><strong>TEST</strong> site</p>

<ul>
<li><code>https://v2stgapi.coinflex.com</code></li>
</ul>

<p><strong>LIVE</strong> site</p>

<ul>
<li><code>https://v2api.coinflex.com/v2</code></li>
</ul>

<p>For clients who do not wish to take advantage of CoinFLEX&#39;s native WebSocket API, CoinFLEX offers a RESTful API that implements much of the same functionality.</p>
<h2 id='rest-api-authentication'>Authentication</h2>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccessKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"Signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"Nonce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">API</span><span class="o">-</span><span class="n">KEY</span><span class="o">&gt;</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">API</span><span class="o">-</span><span class="n">SECRET</span><span class="o">&gt;</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">method</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">API</span><span class="o">-</span><span class="n">METHOD</span><span class="o">&gt;</span>

<span class="c1"># Optional and can be omitted depending on the REST method being called 
</span><span class="n">body</span> <span class="o">=</span> <span class="n">urlencode</span><span class="p">({</span><span class="s">'key1'</span><span class="p">:</span> <span class="s">'value1'</span><span class="p">,</span> <span class="s">'key2'</span><span class="p">:</span> <span class="s">'value2'</span><span class="p">})</span>

<span class="k">if</span> <span class="n">body</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">body</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Public market data methods do not require authentication, however private methods require a <em>Signature</em> to be sent in the header of the request.  These private REST methods  use HMAC SHA256 signatures. </p>

<p>The HMAC SHA256 signature is a keyed HMAC SHA256 operation using a clients API Secret as the key and a message string as the value for the HMAC operation.  </p>

<p>The message string is constructed by the following formula:-</p>

<p><code>msgString = Timestamp + &quot;\n&quot; + Nonce + &quot;\n&quot; + Verb + &quot;\n&quot; + URL + &quot;\n&quot; + Path +&quot;\n&quot; + Body</code></p>

<table><thead>
<tr>
<th>Component</th>
<th>Required</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Timestamp</td>
<td>Yes</td>
<td>2020-04-30T15:20:30</td>
<td>YYYY-MM-DDThh:mm:ss</td>
</tr>
<tr>
<td>Nonce</td>
<td>Yes</td>
<td>123</td>
<td>User generated</td>
</tr>
<tr>
<td>Verb</td>
<td>Yes</td>
<td>&#39;GET&#39;</td>
<td>Uppercase</td>
</tr>
<tr>
<td>Path</td>
<td>Yes</td>
<td>&#39;v2stgapi.coinflex.com&#39;</td>
<td></td>
</tr>
<tr>
<td>Method</td>
<td>Yes</td>
<td>&#39;/v2/positions</td>
<td>Available REST methods: <li><code>V2/positions</code></li><li><code>V2/orders</code></li><li><code>V2/balances</code></li></td>
</tr>
<tr>
<td>Body</td>
<td>No</td>
<td>instrumentID=BTC-USD-SWAP-LIN</td>
<td>Optional and dependent on the REST method being called</td>
</tr>
</tbody></table>

<p>The constructed message string should look like:-</p>

<p><code>2020-04-30T15:20:30\n
  123\n
  GET\n
  v2stgapi.coinflex.com\n
  /v2/positions\n
  instrumentID=BTC-USD-SWAP-LIN</code></p>

<p>Note the newline characters after each component in the message string. 
If <em>Body</em> is ommitted it&#39;s treated as an empty string.</p>

<p>Finally you must use the HMAC SHA256 operation to get the hash value using the API Secret as the key and the constructed message string as the value for the HMAC operation. Then encode this hash value with BASE-64.  This output becomes the signature for the specified authenticated REST API method. </p>

<p>The signature must then be included in the header of the REST API call like so:</p>

<p><code>header = {&#39;Content-Type&#39;: &#39;application/json&#39;, &#39;AccessKey&#39;: API-KEY, &#39;Timestamp&#39;: TIME-STAMP, &#39;Signature&#39;: SIGNATURE, &#39;Nonce&#39;: NONCE}</code></p>
<h2 id='rest-api-methods-private'>Methods - Private</h2>
<p>All private REST API methods require authentication using the approach explained above. </p>
<h3 id='rest-api-methods-private-get-v2-accountinfo'>GET <code>/v2/accountinfo</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/accountinfo</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/accountinfo'</span>

<span class="n">params</span> <span class="o">=</span> <span class="s">""</span>

<span class="k">if</span> <span class="n">params</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">params</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accountinfo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1648800334773"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"677473"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"677473"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINEAR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33860283.6914636"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33860283.6914636"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28661274.5806472"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"portfolioVarMargin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"910198.2835522"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"riskRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.4890"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1648800334761"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"accountinfo"</span><span class="p">,</span>
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648800334773"</span><span class="p">,</span>
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span>
            <span class="s">"tradeType"</span><span class="p">:</span> <span class="s">"LINEAR"</span><span class="p">,</span>
            <span class="s">"marginCurrency"</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span>
            <span class="s">"totalBalance"</span><span class="p">:</span> <span class="s">"33860283.6914636"</span><span class="p">,</span>
            <span class="s">"availableBalance"</span><span class="p">:</span> <span class="s">"33860283.6914636"</span><span class="p">,</span>
            <span class="s">"collateralBalance"</span><span class="p">:</span> <span class="s">"28661274.5806472"</span><span class="p">,</span>
            <span class="s">"portfolioVarMargin"</span><span class="p">:</span> <span class="s">"910198.2835522"</span><span class="p">,</span>
            <span class="s">"riskRatio"</span><span class="p">:</span> <span class="s">"31.4890"</span><span class="p">,</span>
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648800334761"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Returns the account level information connected to the API key initiating the request. </p>

<p><sub><strong>Response Fields</strong></sub> </p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>accountinfo</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td>Account type <code>LINEAR</code></td>
</tr>
<tr>
<td>marginCurrency</td>
<td>STRING</td>
<td>Asset <code>USD</code></td>
</tr>
<tr>
<td>totalBalance</td>
<td>STRING</td>
<td>Total balance denoted in marginCurrency</td>
</tr>
<tr>
<td>collateralBalance</td>
<td>STRING</td>
<td>Collateral balance with LTV applied</td>
</tr>
<tr>
<td>availableBalance</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>portfolioVarMargin</td>
<td>STRING</td>
<td>Portfolio margin</td>
</tr>
<tr>
<td>riskRatio</td>
<td>STRING</td>
<td>collateralBalance / portfolioVarMargin, Orders are rejected/cancelled if the risk ratio drops below 1 and liquidation occurs if the risk ratio drops below 0.5</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-balances'>GET <code>/v2/balances</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/balances</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/balances'</span>

<span class="n">params</span> <span class="o">=</span> <span class="s">""</span>

<span class="k">if</span> <span class="n">params</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">params</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balances"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1648800661246"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"677473"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINEAR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1INCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646413705113"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAVE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646413705827"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"balances"</span><span class="p">,</span>
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648800661246"</span><span class="p">,</span>
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span>
    <span class="s">"tradeType"</span><span class="p">:</span> <span class="s">"LINEAR"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"1INCH"</span><span class="p">,</span>
            <span class="s">"total"</span><span class="p">:</span> <span class="s">"100.00000000"</span><span class="p">,</span>
            <span class="s">"available"</span><span class="p">:</span> <span class="s">"100.00000000"</span><span class="p">,</span>
            <span class="s">"reserved"</span><span class="p">:</span> <span class="s">"0.00000000"</span><span class="p">,</span>
            <span class="s">"quantityLastUpdated"</span><span class="p">:</span> <span class="s">"1646413705113"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"AAVE"</span><span class="p">,</span>
            <span class="s">"total"</span><span class="p">:</span> <span class="s">"100.00000000"</span><span class="p">,</span>
            <span class="s">"available"</span><span class="p">:</span> <span class="s">"100.00000000"</span><span class="p">,</span>
            <span class="s">"reserved"</span><span class="p">:</span> <span class="s">"0.00000000"</span><span class="p">,</span>
            <span class="s">"quantityLastUpdated"</span><span class="p">:</span> <span class="s">"1646413705827"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Returns all the coin balances of the account connected to the API key initiating the request. </p>

<p><sub><strong>Response Fields</strong></sub> </p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>balances</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td><code>LINEAR</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Coin symbol, e.g. &#39;BTC&#39;</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total balance</td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved balance (unavailable) due to working spot orders</td>
</tr>
<tr>
<td>quantityLastUpdated</td>
<td>STRING</td>
<td>Millisecond timestamp of when balance was last updated</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-balances-instrumentid'>GET <code>/v2/balances/{instrumentId}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/balances/</span><span class="p">{</span><span class="err">instrumentId</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/balances/{instrumentId}'</span>

<span class="n">params</span> <span class="o">=</span> <span class="s">"limit=3"</span>

<span class="k">if</span> <span class="n">params</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">params</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balancesById"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1593627415293</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINEAR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">   
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">              
              </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">        
              </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415001"</span><span class="w">
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"balancesById"</span><span class="p">,</span>
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648813214792"</span><span class="p">,</span>
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span>
    <span class="s">"tradeType"</span><span class="p">:</span> <span class="s">"LINEAR"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"FLEX"</span><span class="p">,</span>
        <span class="s">"total"</span><span class="p">:</span> <span class="s">"695180.143917630"</span><span class="p">,</span>
        <span class="s">"available"</span><span class="p">:</span> <span class="s">"695180.143917630"</span><span class="p">,</span>
        <span class="s">"reserved"</span><span class="p">:</span> <span class="s">"0"</span><span class="p">,</span>
        <span class="s">"quantityLastUpdated"</span><span class="p">:</span> <span class="s">"1648809926359"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Returns the specified coin balance of the account connected to the API key initiating the request. </p>

<p><sub><strong>Request Paramters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>YES</td>
<td>Please place it in URL</td>
</tr>
</tbody></table>

<p><sub><strong>Response Fields</strong></sub> </p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>balancesById</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>INTEGER</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td><code>LINEAR</code></td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Coin symbol, e.g. &#39;FLEX&#39;</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total balance</td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved balance (unavailable) due to working spot orders</td>
</tr>
<tr>
<td>quantityLastUpdated</td>
<td>STRING</td>
<td>Timestamp when was balance last updated</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-positions'>GET  <code>/v2/positions</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/positions</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/positions'</span>

<span class="n">params</span> <span class="o">=</span> <span class="s">"limit=3"</span>

<span class="k">if</span> <span class="n">params</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">params</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1593627415000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.542000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1617099855966"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56934.8258"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1212.0065"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52454.3592"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="err">...</span><span class="w">
          </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"positions"</span><span class="p">,</span> 
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648813006698"</span><span class="p">,</span> 
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span> 
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"ETH-USD-SWAP-LIN"</span><span class="p">,</span> 
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"-461.64"</span><span class="p">,</span> 
            <span class="s">"lastUpdated"</span><span class="p">:</span> <span class="s">"1648518794680"</span><span class="p">,</span> 
            <span class="s">"contractValCurrency"</span><span class="p">:</span> <span class="s">"ETH"</span><span class="p">,</span> 
            <span class="s">"entryPrice"</span><span class="p">:</span> <span class="s">"3405.16"</span><span class="p">,</span> 
            <span class="s">"positionPnl"</span><span class="p">:</span> <span class="s">"51675.9816"</span><span class="p">,</span> 
            <span class="s">"estLiquidationPrice"</span><span class="p">:</span> <span class="s">"64473.25"</span>
        <span class="p">},</span> 
        <span class="p">{</span>
            <span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"FLEX-USD-SWAP-LIN"</span><span class="p">,</span> 
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"38742.4"</span><span class="p">,</span> 
            <span class="s">"lastUpdated"</span><span class="p">:</span> <span class="s">"1648174875502"</span><span class="p">,</span> 
            <span class="s">"contractValCurrency"</span><span class="p">:</span> <span class="s">"FLEX"</span><span class="p">,</span> 
            <span class="s">"entryPrice"</span><span class="p">:</span> <span class="s">"7.989"</span><span class="p">,</span> 
            <span class="s">"positionPnl"</span><span class="p">:</span> <span class="s">"-387.4240"</span><span class="p">,</span> 
            <span class="s">"estLiquidationPrice"</span><span class="p">:</span> <span class="s">"0"</span>
        <span class="p">},</span> 
        <span class="p">{</span>
            <span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span> 
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"65.889"</span><span class="p">,</span> 
            <span class="s">"lastUpdated"</span><span class="p">:</span> <span class="s">"1648806900492"</span><span class="p">,</span> 
            <span class="s">"contractValCurrency"</span><span class="p">:</span> <span class="s">"BTC"</span><span class="p">,</span> 
            <span class="s">"entryPrice"</span><span class="p">:</span> <span class="s">"47642"</span><span class="p">,</span> 
            <span class="s">"positionPnl"</span><span class="p">:</span> <span class="s">"-441817.260"</span><span class="p">,</span> 
            <span class="s">"estLiquidationPrice"</span><span class="p">:</span> <span class="s">"0"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Returns all the positions of the account connected to the API key initiating the request. </p>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>positions</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>INTEGER</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Contract symbol, e.g. &#39;BTC-USD-SWAP-LIN&#39;</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity of position, e.g. &#39;0.94&#39;</td>
</tr>
<tr>
<td>lastUpdated</td>
<td>STRING</td>
<td>Timestamp when position was last updated</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Contract valuation currency</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Average entry price</td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Postion profit and lost</td>
</tr>
<tr>
<td>estLiquidationPrice</td>
<td>STRING</td>
<td>Estimated liquidation price, return 0 if it is negative(&lt;0)</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-positions-instrumentid'>GET  <code>/v2/positions/{instrumentId}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/positions/</span><span class="p">{</span><span class="err">instrumentId</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/positions/{instrumentId}'</span>

<span class="n">params</span> <span class="o">=</span> <span class="s">"limit=3"</span>

<span class="k">if</span> <span class="n">params</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">params</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positionsById"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1593617005438</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.542000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1617099855966"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56934.8258"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1216.6135"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53171.16"</span><span class="w">
          </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"positionsById"</span><span class="p">,</span>
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648812534064"</span><span class="p">,</span>
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"FLEX-USD-SWAP-LIN"</span><span class="p">,</span>
        <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"38742.4"</span><span class="p">,</span>
        <span class="s">"lastUpdated"</span><span class="p">:</span> <span class="s">"1648174875502"</span><span class="p">,</span>
        <span class="s">"contractValCurrency"</span><span class="p">:</span> <span class="s">"FLEX"</span><span class="p">,</span>
        <span class="s">"entryPrice"</span><span class="p">:</span> <span class="s">"7.989"</span><span class="p">,</span>
        <span class="s">"positionPnl"</span><span class="p">:</span> <span class="s">"-387.4240"</span><span class="p">,</span>
        <span class="s">"estLiquidationPrice"</span><span class="p">:</span> <span class="s">"0"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Returns the specified instrument ID position of the account connected to the API key initiating the request.</p>

<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>YES</td>
<td>Please place it in URL</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>positionsById</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>INTEGER</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Contract symbol, e.g. &#39;FLEX-USD-SWAP-LIN&#39;</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity of position, e.g. &#39;0.94&#39;</td>
</tr>
<tr>
<td>lastUpdated</td>
<td>STRING</td>
<td>Timestamp when position was last updated</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Contract valuation currency</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Average entry price</td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Postion profit and lost</td>
</tr>
<tr>
<td>estLiquidationPrice</td>
<td>STRING</td>
<td>Estimated liquidation price, return 0 if it is negative(&lt;0)</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-trades-marketcode'>GET <code>/v2/trades/{marketCode}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/trades/</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/trades/{marketCode}'</span>

<span class="n">params</span> <span class="o">=</span> <span class="s">"limit=3"</span>

<span class="k">if</span> <span class="n">params</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">params</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1595635101845</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160067484555913077"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"matchTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595514663626"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX-USD"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.065"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0065"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAKER"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0096"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"feeInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160067484555913076"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="err">...</span><span class="w">
          </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"trades"</span><span class="p">,</span>
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648812102411"</span><span class="p">,</span>
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"matchId"</span><span class="p">:</span> <span class="s">"448821476099870304"</span><span class="p">,</span>
            <span class="s">"matchTimestamp"</span><span class="p">:</span> <span class="s">"1648809926245"</span><span class="p">,</span>
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"FLEX-USD"</span><span class="p">,</span>
            <span class="s">"matchQuantity"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
            <span class="s">"matchPrice"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
            <span class="s">"total"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
            <span class="s">"orderMatchType"</span><span class="p">:</span> <span class="s">"MAKER"</span><span class="p">,</span>
            <span class="s">"fees"</span><span class="p">:</span> <span class="s">"0"</span><span class="p">,</span>
            <span class="s">"feeInstrumentId"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"orderId"</span><span class="p">:</span> <span class="s">"1000200608142"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"SELL"</span><span class="p">,</span>
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="s">"1612249737434"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"matchId"</span><span class="p">:</span> <span class="s">"448821476099870303"</span><span class="p">,</span>
            <span class="s">"matchTimestamp"</span><span class="p">:</span> <span class="s">"1648809926245"</span><span class="p">,</span>
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"FLEX-USD"</span><span class="p">,</span>
            <span class="s">"matchQuantity"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
            <span class="s">"matchPrice"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
            <span class="s">"total"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
            <span class="s">"orderMatchType"</span><span class="p">:</span> <span class="s">"MAKER"</span><span class="p">,</span>
            <span class="s">"fees"</span><span class="p">:</span> <span class="s">"0"</span><span class="p">,</span>
            <span class="s">"feeInstrumentId"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"orderId"</span><span class="p">:</span> <span class="s">"1000200608140"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"SELL"</span><span class="p">,</span>
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="s">"1612249737434"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"matchId"</span><span class="p">:</span> <span class="s">"448821476099861874"</span><span class="p">,</span>
            <span class="s">"matchTimestamp"</span><span class="p">:</span> <span class="s">"1648807731185"</span><span class="p">,</span>
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"FLEX-USD"</span><span class="p">,</span>
            <span class="s">"matchQuantity"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
            <span class="s">"matchPrice"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
            <span class="s">"total"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
            <span class="s">"orderMatchType"</span><span class="p">:</span> <span class="s">"MAKER"</span><span class="p">,</span>
            <span class="s">"fees"</span><span class="p">:</span> <span class="s">"0"</span><span class="p">,</span>
            <span class="s">"feeInstrumentId"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"orderId"</span><span class="p">:</span> <span class="s">"1000200596577"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"SELL"</span><span class="p">,</span>
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="s">"1612249737434"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Returns the most recent trades of the account connected to the API key initiating the request.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td>Please place it in URL</td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default <code>500</code>, max <code>1000</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<p><sub><strong>Response Fields</strong></sub> </p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>trades</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>INTEGER</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>matchId</td>
<td>STRING</td>
<td>Match ID</td>
</tr>
<tr>
<td>matchTimestamp</td>
<td>STRING</td>
<td>Order Matched timestamp</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>matchQuantity</td>
<td>STRING</td>
<td>Match quantity</td>
</tr>
<tr>
<td>matchPrice</td>
<td>STRING</td>
<td>Match price</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total price</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Side of the match</td>
</tr>
<tr>
<td>orderMatchType</td>
<td>STRING</td>
<td><code>TAKER</code> or <code>MAKER</code></td>
</tr>
<tr>
<td>fees</td>
<td>STRING</td>
<td>Fees</td>
</tr>
<tr>
<td>feeInstrumentId</td>
<td>STRING</td>
<td>Instrument ID of the fees</td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>clientOrderID</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-orders'>GET <code>/v2/orders</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/orders</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/orders'</span>

<span class="n">params</span> <span class="o">=</span> <span class="s">""</span>

<span class="k">if</span> <span class="n">params</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">params</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593617005438"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160039151345856176"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="err">|</span><span class="s2">"&lt;clientOrderId&gt;"</span><span class="p">,</span><span class="w">              
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="err">|</span><span class="s2">"STOP"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"remainingQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="err">|</span><span class="kc">null</span><span class="p">,</span><span class="w">               </span><span class="err">#for</span><span class="w"> </span><span class="err">limit</span><span class="w"> </span><span class="err">order</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">order</span><span class="w">
              </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;stopPrice&gt;"</span><span class="err">|</span><span class="kc">null</span><span class="p">,</span><span class="w">    </span><span class="err">#for</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">order</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">limit</span><span class="w"> </span><span class="err">order</span><span class="w"> 
              </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;limitPrice&gt;"</span><span class="err">|</span><span class="kc">null</span><span class="p">,</span><span class="w">  </span><span class="err">#for</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">order</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">limit</span><span class="w"> </span><span class="err">order</span><span class="w"> 
              </span><span class="nl">"orderCreated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1593617008698</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lastModified"</span><span class="p">:</span><span class="w"> </span><span class="mi">1593617008698</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lastTradeTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1593617008698</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="err">...</span><span class="w">
          </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"orders"</span><span class="p">,</span> 
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648809819657"</span><span class="p">,</span> 
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span> 
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"orderId"</span><span class="p">:</span> <span class="s">"1000200608142"</span><span class="p">,</span> 
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"FLEX-USD"</span><span class="p">,</span> 
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="s">"1612249737434"</span><span class="p">,</span> 
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"SELL"</span><span class="p">,</span> 
            <span class="s">"orderType"</span><span class="p">:</span> <span class="s">"LIMIT"</span><span class="p">,</span> 
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"1.0"</span><span class="p">,</span> 
            <span class="s">"remainingQuantity"</span><span class="p">:</span> <span class="s">"1.0"</span><span class="p">,</span> 
            <span class="s">"price"</span><span class="p">:</span> <span class="s">"10.0"</span><span class="p">,</span> 
            <span class="s">"stopPrice"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
            <span class="s">"limitPrice"</span><span class="p">:</span> <span class="s">"10.0"</span><span class="p">,</span> 
            <span class="s">"orderCreated"</span><span class="p">:</span> <span class="mi">1648809816385</span><span class="p">,</span> 
            <span class="s">"lastModified"</span><span class="p">:</span> <span class="mi">1648809816591</span><span class="p">,</span> 
            <span class="s">"lastTradeTimestamp"</span><span class="p">:</span> <span class="mi">1648809816557</span><span class="p">,</span> 
            <span class="s">"timeInForce"</span><span class="p">:</span> <span class="s">"GTC"</span>
        <span class="p">},</span> 
        <span class="p">{</span>
            <span class="s">"orderId"</span><span class="p">:</span> <span class="s">"1000200608140"</span><span class="p">,</span> 
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"FLEX-USD"</span><span class="p">,</span> 
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="s">"1612249737434"</span><span class="p">,</span> 
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"SELL"</span><span class="p">,</span> 
            <span class="s">"orderType"</span><span class="p">:</span> <span class="s">"LIMIT"</span><span class="p">,</span> 
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"1.0"</span><span class="p">,</span> 
            <span class="s">"remainingQuantity"</span><span class="p">:</span> <span class="s">"1.0"</span><span class="p">,</span> 
            <span class="s">"price"</span><span class="p">:</span> <span class="s">"10.0"</span><span class="p">,</span> 
            <span class="s">"stopPrice"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
            <span class="s">"limitPrice"</span><span class="p">:</span> <span class="s">"10.0"</span><span class="p">,</span> 
            <span class="s">"orderCreated"</span><span class="p">:</span> <span class="mi">1648809812567</span><span class="p">,</span> 
            <span class="s">"lastModified"</span><span class="p">:</span> <span class="mi">1648809812773</span><span class="p">,</span> 
            <span class="s">"lastTradeTimestamp"</span><span class="p">:</span> <span class="mi">1648809812680</span><span class="p">,</span> 
            <span class="s">"timeInForce"</span><span class="p">:</span> <span class="s">"GTC"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Returns all the open orders of the account connected to the API key initiating the request.</p>

<p><sub><strong>Response Fields</strong></sub></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>orders</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td><code>LIMIT</code> or <code>STOP</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity submitted</td>
</tr>
<tr>
<td>remainingQuantity</td>
<td>STRING</td>
<td>Remainning quantity</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Price submitted</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price for the stop order</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price for the stop limit order</td>
</tr>
<tr>
<td>orderCreated</td>
<td>INTEGER</td>
<td>Timestamp when order was created</td>
</tr>
<tr>
<td>lastModified</td>
<td>INTEGER</td>
<td>Timestamp when order was last mordified</td>
</tr>
<tr>
<td>lastTradeTimestamp</td>
<td>INTEGER</td>
<td>Timestamp when order was last traded</td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Time in force</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-1-orders'>GET <code>/v2.1/orders</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mf">2.1</span><span class="err">/orders?marketCode=</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="err">&amp;orderId=</span><span class="p">{</span><span class="err">orderId</span><span class="p">}</span><span class="err">&amp;clientOrderId=</span><span class="p">{</span><span class="err">clientOrderId</span><span class="p">}</span><span class="err">&amp;limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_key'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2.1/orders'</span>

<span class="n">params</span> <span class="o">=</span> <span class="s">"marketCode=FLEX-USD&amp;limit=1"</span>

<span class="k">if</span> <span class="n">params</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">params</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1619167719563"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1076"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderClosed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304408197314577142"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10006.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderClosedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1619131050779"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderOpened"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304408197314577143"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60006.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderOpenedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1619131049574"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderMatched"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448528458527567629"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1618870087524"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.194"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastTradedPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.170"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.170"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"filledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"448528458527567630"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.1"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.170"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1618870088471"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAKER"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"FLEX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00440786"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IOC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderPartiallyMatched"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000028616860"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1619090944648"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42970.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastTradedPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43026.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43026.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.112"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"filledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"304515168532122149"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43026.0"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1628824216325"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAKER"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"304515168532122150"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43026.0"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1628824216326"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAKER"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"orders"</span><span class="p">,</span>
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648809055324"</span><span class="p">,</span>
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"status"</span><span class="p">:</span> <span class="s">"OrderMatched"</span><span class="p">,</span>
            <span class="s">"orderId"</span><span class="p">:</span> <span class="s">"1000200596577"</span><span class="p">,</span>
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="s">"1612249737434"</span><span class="p">,</span>
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"FLEX-USD"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"SELL"</span><span class="p">,</span>
            <span class="s">"orderType"</span><span class="p">:</span> <span class="s">"LIMIT"</span><span class="p">,</span>
            <span class="s">"price"</span><span class="p">:</span> <span class="s">"10.000"</span><span class="p">,</span>
            <span class="s">"lastTradedPrice"</span><span class="p">:</span> <span class="s">"10.000"</span><span class="p">,</span>
            <span class="s">"avgFillPrice"</span><span class="p">:</span> <span class="s">"10.000"</span><span class="p">,</span>
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
            <span class="s">"filledQuantity"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
            <span class="s">"remainQuantity"</span><span class="p">:</span> <span class="s">"0"</span><span class="p">,</span>
            <span class="s">"matchIds"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"448821476099861874"</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s">"matchQuantity"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
                        <span class="s">"matchPrice"</span><span class="p">:</span> <span class="s">"10.000"</span><span class="p">,</span>
                        <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648807731185"</span><span class="p">,</span>
                        <span class="s">"orderMatchType"</span><span class="p">:</span> <span class="s">"MAKER"</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">"timeInForce"</span><span class="p">:</span> <span class="s">"GTC"</span><span class="p">,</span>
            <span class="s">"isTriggered"</span><span class="p">:</span> <span class="s">"false"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Returns all orders of the account connected to the API key initiating the request.</p>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td>Market code</td>
</tr>
<tr>
<td>orderId</td>
<td>LONG</td>
<td>NO</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>ULONG</td>
<td>NO</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>max <code>100</code>, default <code>100</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>e.g. <code>1579450778000</code>, default 24 hours ago, the range between startTime and endTime should be less than or equal to 7 days(<code>endTime - startTime &lt;= 7days</code>)</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>e.g. <code>1613978625000</code>, default time now, the range between startTime and endTime should be less than or equal to 7 days(<code>endTime - startTime &lt;= 7days</code>)</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Status of the order</td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Order ID which generated by the server</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Side of the order, <code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Type of the order, <code>LIMIT</code> or <code>STOP</code></td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Price submitted</td>
</tr>
<tr>
<td>lastTradedPrice</td>
<td>STRING</td>
<td>Price when order was last traded</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>STRING</td>
<td>Average of filled price</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price for the stop order</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price for the stop limit order</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity submitted</td>
</tr>
<tr>
<td>remainQuantity</td>
<td>STRING</td>
<td>Remainning quantity</td>
</tr>
<tr>
<td>filledQuantity</td>
<td>STRING</td>
<td>Filled quantity</td>
</tr>
<tr>
<td>matchIds</td>
<td>LIST of dictionaries</td>
<td>Exchange matched IDs and information about matching orders</td>
</tr>
<tr>
<td>matchQuantity</td>
<td>STRING</td>
<td>Matched quantity</td>
</tr>
<tr>
<td>matchPrice</td>
<td>STRING</td>
<td>Matched price</td>
</tr>
<tr>
<td>orderMatchType</td>
<td>STRING</td>
<td><code>MAKER</code> or <code>TAKER</code></td>
</tr>
<tr>
<td>timestamp in matchIds</td>
<td>STRING</td>
<td>Time matched at</td>
</tr>
<tr>
<td>leg1Price</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>leg2Price</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>fees</td>
<td>LIST of dictionaries</td>
<td>Overall fees with instrument ID, if FLEX is no enough to pay the fee then USD will be paid</td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Time in force</td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>true</code>(for stop order) or <code>false</code></td>
</tr>
<tr>
<td>orderOpenedTimestamp</td>
<td>STRING</td>
<td>Order opened at</td>
</tr>
<tr>
<td>orderModifiedTimestamp</td>
<td>STRING</td>
<td>Order modified at</td>
</tr>
<tr>
<td>orderClosedTimestamp</td>
<td>STRING</td>
<td>Order closed at</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-delete-v2-cancel-orders'>DELETE <code>/v2/cancel/orders</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">DELETE</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/cancel/orders</span><span class="w"> 
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/cancel/orders'</span>

<span class="n">params</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({})</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'DELETE'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">method</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1594412077100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;AccountID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All open orders for the account have been queued for cancellation"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"orders"</span><span class="p">,</span>
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648809641539"</span><span class="p">,</span>
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"msg"</span><span class="p">:</span> <span class="s">"All open orders for the account have been queued for cancellation"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Cancels <strong>all</strong> open orders of the account connected to the API key initiating the request.</p>

<p>If this REST method was sucessful it will also trigger a reponse message in an authenticated websocket of the account.  This is documented here <a href="#websocket-api-other-responses-cancel-open-orders">Cancel Open Orders</a>.</p>

<p><sub><strong>Response Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>orders</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>INTEGER</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>data</td>
<td>Dictionary</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>STRING</td>
<td>Confirmation of action</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-delete-v2-cancel-orders-marketcode'>DELETE <code>/v2/cancel/orders/{marketCode}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">DELETE</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/cancel/orders/</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/cancel/orders/{marketCode}'</span>

<span class="n">params</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({})</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'DELETE'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">method</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1594412077100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;AccountID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All open orders for the specified market have been queued for cancellation"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"orders"</span><span class="p">,</span>
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648807731741"</span><span class="p">,</span>
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"3101"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span>
        <span class="s">"msg"</span><span class="p">:</span> <span class="s">"All open orders for the specified market have been queued for cancellation"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Cancels all open orders for the <strong>specified market</strong> for the account connected to the API key initiating the request.</p>

<p>If this REST method was sucessful it will also trigger a reponse message in an authenticated websocket of the account.  This is documented here <a href="#websocket-api-other-responses-cancel-open-orders">Cancel Open Orders</a>.</p>

<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td>Please place it in URL</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>orders</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>INTEGER</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>data</td>
<td>Dictionary</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>msg</td>
<td>STRING</td>
<td>Confirmation of action</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-1-delivery-orders'>GET <code>/v2.1/delivery/orders</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mf">2.1</span><span class="err">/delivery/orders?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2.1/delivery/orders'</span>

<span class="n">params</span> <span class="o">=</span> <span class="s">"limit=1"</span>

<span class="k">if</span> <span class="n">params</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">params</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deliverOrders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1596685339910"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595781719394"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="nl">"deliverPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9938.480000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"transferAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"transferQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"993.848000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentIdDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"deliverQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.100000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"deliverOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"575770851486007299"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595786511155"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELLED"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="nl">"deliverPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9911.470000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"transferAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"transferQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentIdDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"deliverQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"deliverOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"575786553086246913"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
          </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"deliverOrders"</span><span class="p">,</span>
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648806915444"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648806900463"</span><span class="p">,</span>
            <span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span>
            <span class="s">"status"</span><span class="p">:</span> <span class="s">"PENDING"</span><span class="p">,</span>
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"0.100000000"</span><span class="p">,</span>
            <span class="s">"deliverPrice"</span><span class="p">:</span> <span class="s">"45131.000000000"</span><span class="p">,</span>
            <span class="s">"transferAsset"</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span>
            <span class="s">"transferQty"</span><span class="p">:</span> <span class="s">"4513.100000000"</span><span class="p">,</span>
            <span class="s">"instrumentIdDeliver"</span><span class="p">:</span> <span class="s">"BTC"</span><span class="p">,</span>
            <span class="s">"deliverQty"</span><span class="p">:</span> <span class="s">"0.000000000"</span><span class="p">,</span>
            <span class="s">"deliverOrderId"</span><span class="p">:</span> <span class="s">"749523764730920963"</span><span class="p">,</span>
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="n">null</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Returns the entire delivery history for the account connected to the API key initiating the request.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default <code>200</code>, max <code>500</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<p><sub><strong>Response Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>deliverOrders</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp of the repsonse</td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp of the delivery action</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Perpetual swap market code</td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Request status</td>
</tr>
<tr>
<td>quantity</td>
<td>Null Type</td>
<td>Quantity</td>
</tr>
<tr>
<td>deliverPrice</td>
<td>STRING</td>
<td>Mark price at delivery</td>
</tr>
<tr>
<td>transferAsset</td>
<td>STRING</td>
<td>Asset being sent</td>
</tr>
<tr>
<td>transferQty</td>
<td>STRING</td>
<td>Quantity being sent</td>
</tr>
<tr>
<td>instrumentIdDeliver</td>
<td>STRING</td>
<td>Asset being received: long position = coin, short position = USD</td>
</tr>
<tr>
<td>deliverQty</td>
<td>STRING</td>
<td>Quantity of the received asset</td>
</tr>
<tr>
<td>deliverOrderId</td>
<td>STRING</td>
<td>Order id</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>Null Type</td>
<td>null</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-1-delivery-orders'>POST <code>/v2.1/delivery/orders</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mf">2.1</span><span class="err">/delivery/orders</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"qtyDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># REST API method
</span><span class="n">method</span> <span class="o">=</span> <span class="s">'/v2.1/delivery/orders'</span>

<span class="n">params</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span> <span class="s">"qtyDeliver"</span><span class="p">:</span> <span class="s">"0.1"</span><span class="p">})</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">method</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delivery"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1648801950009"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3101"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"deliverOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"749507542787358724"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3101"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45285"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverPosition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEXT_CYCLE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentIdDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainingQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainingPosition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4528.500"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auctionTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1648801949919"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1648801949919"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1648801949919"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"delivery"</span><span class="p">,</span> 
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648801950009"</span><span class="p">,</span> 
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"3101"</span><span class="p">,</span> 
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"deliverOrderId"</span><span class="p">:</span> <span class="s">"749507542787358724"</span><span class="p">,</span> 
            <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"3101"</span><span class="p">,</span> 
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
            <span class="s">"instrumentId"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span> 
            <span class="s">"deliverPrice"</span><span class="p">:</span> <span class="s">"45285"</span><span class="p">,</span> 
            <span class="s">"deliverPosition"</span><span class="p">:</span> <span class="s">"0.100"</span><span class="p">,</span> 
            <span class="s">"deliverType"</span><span class="p">:</span> <span class="s">"NEXT_CYCLE"</span><span class="p">,</span> 
            <span class="s">"instrumentIdDeliver"</span><span class="p">:</span> <span class="s">"BTC"</span><span class="p">,</span> 
            <span class="s">"deliverQty"</span><span class="p">:</span> <span class="s">"0.100"</span><span class="p">,</span> 
            <span class="s">"remainingQty"</span><span class="p">:</span> <span class="s">"0.100"</span><span class="p">,</span> 
            <span class="s">"remainingPosition"</span><span class="p">:</span> <span class="s">"0.100"</span><span class="p">,</span> 
            <span class="s">"transferAsset"</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span> 
            <span class="s">"transferQty"</span><span class="p">:</span> <span class="s">"4528.500"</span><span class="p">,</span> 
            <span class="s">"auctionTime"</span><span class="p">:</span> <span class="s">"1648801949919"</span><span class="p">,</span> 
            <span class="s">"created"</span><span class="p">:</span> <span class="s">"1648801949919"</span><span class="p">,</span> 
            <span class="s">"lastUpdated"</span><span class="p">:</span> <span class="s">"1648801949919"</span><span class="p">,</span> 
            <span class="s">"status"</span><span class="p">:</span> <span class="s">"PENDING"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Submits a request for physical delivery for a specified perpetual swap instrument and quantity.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>YES</td>
<td>Perpetual swap instrument intended for delivery</td>
</tr>
<tr>
<td>qtyDeliver</td>
<td>STRING</td>
<td>YES</td>
<td>Quantity intended for delivery</td>
</tr>
</tbody></table>

<p><sub><strong>Response Fields</strong></sub> </p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>delivery</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp of the repsonse</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>data</td>
<td>LIST of dictionary</td>
<td></td>
</tr>
<tr>
<td>deliverOrderId</td>
<td>STRING</td>
<td>Order id</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>Null Type</td>
<td>null</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Perpetual swap market code</td>
</tr>
<tr>
<td>deliverPrice</td>
<td>STRING</td>
<td>Mark price at delivery</td>
</tr>
<tr>
<td>deliverPosition</td>
<td>STRING</td>
<td>Delivered position size</td>
</tr>
<tr>
<td>deliverType</td>
<td>STRING</td>
<td>&quot;NEXT_CYCLE&quot;: Queueing for the upcoming auction</td>
</tr>
<tr>
<td>instrumentIdDeliver</td>
<td>STRING</td>
<td>Asset being received: long position = coin, short position = USD</td>
</tr>
<tr>
<td>deliverQty</td>
<td>STRING</td>
<td>Quantity of the received asset</td>
</tr>
<tr>
<td>remainingQty</td>
<td>STRING</td>
<td>Remaining quantity</td>
</tr>
<tr>
<td>remainingPosition</td>
<td>STRING</td>
<td>Remaining position</td>
</tr>
<tr>
<td>transferAsset</td>
<td>STRING</td>
<td>Asset being sent</td>
</tr>
<tr>
<td>transferQty</td>
<td>STRING</td>
<td>Quantity being sent</td>
</tr>
<tr>
<td>auctionTime</td>
<td>STRING</td>
<td>Millisecond timestamp of the next auction</td>
</tr>
<tr>
<td>created</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>lastUpdated</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Delivery status</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-delete-v2-1-delivery-orders-deliveryorderid'>DELETE <code>/v2.1/delivery/orders/{deliveryOrderId}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">DELETE</span><span class="w"> </span><span class="err">/v</span><span class="mf">2.1</span><span class="err">/delivery/orders/</span><span class="p">{</span><span class="err">deliveryOrderId</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_key'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="n">method</span> <span class="o">=</span> <span class="s">'/v2.1/delivery/orders/{deliveryOrderId}'</span>

<span class="n">params</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({})</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'DELETE'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">method</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>Success response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delivery"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1648802689667"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3101"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Cancel of user order was successful"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"delivery"</span><span class="p">,</span> 
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648802689667"</span><span class="p">,</span> 
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"3101"</span><span class="p">,</span> 
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"Cancel of user order was successful"</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><strong>Failure response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delivery"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1648803402131"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3101"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Cancel exception please try again"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"delivery"</span><span class="p">,</span> 
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648803402131"</span><span class="p">,</span> 
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"3101"</span><span class="p">,</span> 
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"Cancel exception please try again"</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Cancels a pending delivery.</p>

<p><sub><strong>Request Parameters</strong></sub> </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>deliveryOrderId</td>
<td>STRING</td>
<td>YES</td>
<td>Delivery order ID, please place it in URL</td>
</tr>
</tbody></table>

<p><sub><strong>Response Fields</strong></sub> </p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td><code>delivery</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp of the repsonse</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>Message from the server</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-orders-place'>POST <code>/v2/orders/place</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/orders/place</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"responseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULL"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1615430912440</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1612249737724</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50007"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1612249737724</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54900"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1612249737723</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.003"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54901"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'api_key'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'api_secret'</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="n">method</span> <span class="o">=</span> <span class="s">'/v2/orders/place'</span>

<span class="n">params</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"recvWindow"</span><span class="p">:</span><span class="mi">3000</span><span class="p">,</span> <span class="s">"timestamp"</span><span class="p">:</span> <span class="mi">1737100050453</span><span class="p">,</span> <span class="s">"responseType"</span><span class="p">:</span><span class="s">"FULL"</span><span class="p">,</span><span class="s">"orders"</span><span class="p">:[{</span><span class="s">"clientOrderId"</span><span class="p">:</span><span class="mi">1612249737434</span><span class="p">,</span><span class="s">"marketCode"</span><span class="p">:</span><span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="s">"side"</span><span class="p">:</span><span class="s">"SELL"</span><span class="p">,</span><span class="s">"quantity"</span><span class="p">:</span><span class="s">"1"</span><span class="p">,</span><span class="s">"timeInForce"</span><span class="p">:</span><span class="s">"GTC"</span><span class="p">,</span><span class="s">"orderType"</span><span class="p">:</span><span class="s">"LIMIT"</span><span class="p">,</span><span class="s">"price"</span><span class="p">:</span><span class="s">"49995"</span><span class="p">}]})</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">method</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">', '</span><span class="p">,</span> <span class="s">': '</span><span class="p">)))</span>
</code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13670827"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeOrder"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1615430915625"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1641538345068"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"710006"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED balance check as balance (0E-9) &lt; value (0.001)"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2619090944648"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52888.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1641536720611"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3619090894340"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000132664173"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23641.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderOpened"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1641538343028"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3619090894340"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000132688133"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43000.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PARTIAL_FILL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304638880616112239"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastTradedPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42731.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAKER"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.099"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderMatched"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00170064"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
    <span class="s">"event"</span><span class="p">:</span> <span class="s">"placeOrder"</span><span class="p">,</span> 
    <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648804490345"</span><span class="p">,</span> 
    <span class="s">"accountId"</span><span class="p">:</span> <span class="s">"677473"</span><span class="p">,</span> 
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"success"</span><span class="p">:</span> <span class="s">"true"</span><span class="p">,</span> 
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1648804490326"</span><span class="p">,</span> 
            <span class="s">"clientOrderId"</span><span class="p">:</span> <span class="s">"1612249737434"</span><span class="p">,</span> 
            <span class="s">"orderId"</span><span class="p">:</span> <span class="s">"1000200584643"</span><span class="p">,</span> 
            <span class="s">"price"</span><span class="p">:</span> <span class="s">"49995.0"</span><span class="p">,</span> 
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"1.0"</span><span class="p">,</span> 
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"SELL"</span><span class="p">,</span> 
            <span class="s">"status"</span><span class="p">:</span> <span class="s">"OPEN"</span><span class="p">,</span> 
            <span class="s">"marketCode"</span><span class="p">:</span> <span class="s">"BTC-USD-SWAP-LIN"</span><span class="p">,</span> 
            <span class="s">"timeInForce"</span><span class="p">:</span> <span class="s">"GTC"</span><span class="p">,</span> 
            <span class="s">"matchId"</span><span class="p">:</span> <span class="s">"0"</span><span class="p">,</span> 
            <span class="s">"notice"</span><span class="p">:</span> <span class="s">"OrderOpened"</span><span class="p">,</span> 
            <span class="s">"orderType"</span><span class="p">:</span> <span class="s">"LIMIT"</span><span class="p">,</span> 
            <span class="s">"isTriggered"</span><span class="p">:</span> <span class="s">"false"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Place orders.</p>

<aside class="notice">
You can place up to 8 orders at a time in REST API
</aside>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>NO</td>
<td>In milliseconds. If an order reaches the matching engine and the current timestamp exceeds timestamp + recvWindow, then the order will be rejected. If timestamp is provided without recvWindow, then a default recvWindow of 1000ms is used. If recvWindow is provided with no timestamp, then the request will not be rejected. If neither timestamp nor recvWindow are provided, then the request will not be rejected</td>
</tr>
<tr>
<td>responseType</td>
<td>STRING</td>
<td>YES</td>
<td><code>FULL</code> or <code>ACK</code></td>
</tr>
<tr>
<td>orders</td>
<td>LIST</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>ULONG</td>
<td>YES</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td>Market code</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>YES</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>YES</td>
<td>Quantity</td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>NO</td>
<td>Default <code>GTC</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>YES</td>
<td><code>LIMIT</code> or <code>MARKET</code> or <code>STOP</code></td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>NO</td>
<td>Limit price for the limit order</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>NO</td>
<td>Stop price for the stop order</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>NO</td>
<td>Limit price for the stop limit order</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>event</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp of the repsonse</td>
</tr>
<tr>
<td>data</td>
<td>LIST</td>
<td></td>
</tr>
<tr>
<td>success</td>
<td>STRING</td>
<td>Whether an order has been successfully placed</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>STRING</td>
<td>Error code</td>
</tr>
<tr>
<td>message</td>
<td>STRING</td>
<td>Error message</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>SELL</code> or <code>BUY</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>matchId</td>
<td>STRING</td>
<td>Exchange match ID</td>
</tr>
<tr>
<td>lastTradedPrice</td>
<td>STRING</td>
<td>Price when order was last traded</td>
</tr>
<tr>
<td>matchQuantity</td>
<td>STRING</td>
<td>Matched quantity</td>
</tr>
<tr>
<td>orderMatchType</td>
<td>STRING</td>
<td><code>MAKER</code> or <code>TAKER</code></td>
</tr>
<tr>
<td>remainQuantity</td>
<td>STRING</td>
<td>Remainning quantity</td>
</tr>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderClosed</code> or <code>OrderMatched</code> or <code>OrderOpend</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td><code>MARKET</code> or <code>LIMIT</code> or <code>STOP</code></td>
</tr>
<tr>
<td>fees</td>
<td>STRING</td>
<td>Amount of fees paid from this match ID</td>
</tr>
<tr>
<td>feeInstrumentId</td>
<td>STRING</td>
<td>Instrument ID of fees paid from this match ID</td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td>false (or true for STOP order types)</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-orders-modify'>POST <code>/v2/orders/modify</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/orders/modify</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"responseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULL"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1614331650143</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1614330009059</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304369975621712260"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40001.0"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">161224973777800</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40003.0"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">161224973777900</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.003"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40004.0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"495"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyOrder"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1614331651243"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1614331651174"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40032"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request data"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"161224973777800"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40003.0"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1614331651174"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40032"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request data"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"161224973777900"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40004.0"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.003"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1614331651196"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1614330009059"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304369975621712263"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40001.0"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderOpened"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Modify orders.</p>

<aside class="notice">
You can modify up to 8 orders at a time in REST API
</aside>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>responseType</td>
<td>STRING</td>
<td>YES</td>
<td><code>FULL</code> or <code>ACK</code></td>
</tr>
<tr>
<td>orders</td>
<td>LIST</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>ULONG</td>
<td>NO</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>LIST</td>
<td></td>
</tr>
<tr>
<td>success</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>STRING</td>
<td>Error code</td>
</tr>
<tr>
<td>message</td>
<td>STRING</td>
<td>Error message</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>SELL</code> or <code>BUY</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Status of the order</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderClosed</code> or <code>OrderMatched</code> or <code>OrderOpend</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>true</code> or <code>false</code></td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-delete-v2-orders-cancel'>DELETE <code>/v2/orders/cancel</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">DELETE</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/orders/cancel</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"recvWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"responseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULL"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1615454880374</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304384250571714215"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1615453494726</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1612249737724</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"495"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelOrder"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1615454881391"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1615454881383"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1615453494726"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304384250571714215"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55006.0"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.006"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED_BY_USER"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.006"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderClosed"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1615454881433"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40035"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open order not found with id"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1612249737724"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Cancel orders.</p>

<aside class="notice">
You can cancel up to 8 orders at a time in REST API
</aside>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>responseType</td>
<td>STRING</td>
<td>YES</td>
<td><code>FULL</code> or <code>ACK</code></td>
</tr>
<tr>
<td>orders</td>
<td>LIST</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Either one of orderId or clientOrderId is required</td>
<td></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>ULONG</td>
<td>Either one of orderId or clientOrderId is required</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>LIST</td>
<td></td>
</tr>
<tr>
<td>success</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>STRING</td>
<td>Error code</td>
</tr>
<tr>
<td>message</td>
<td>STRING</td>
<td>Error message</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>SELL</code> or <code>BUY</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Status of the order</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderClosed</code> or <code>OrderMatched</code> or <code>OrderOpend</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>true</code> or <code>false</code></td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-mint'>POST <code>/v2/mint</code></h3>
<p>Mint.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/mint</span><span class="w">

</span><span class="p">{</span><span class="w">

    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"mint"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"1620964317199"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"1532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="p">:</span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"10"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING/DECIMAL</td>
<td>YES</td>
<td>Quantity of the asset</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity of the asset</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-mint-asset'>GET <code>/v2/mint/{asset}</code></h3>
<p>Get mint history by asset and sorted by time in descending order.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/mint/</span><span class="p">{</span><span class="err">asset</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"mintHistory"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"1620964764692"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"1570"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="s2">"flexETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"0.100000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mintedAt"</span><span class="p">:</span><span class="s2">"1619779905495"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="s2">"flexETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"97.800000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mintedAt"</span><span class="p">:</span><span class="s2">"1619779812468"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="s2">"flexETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"0.100000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mintedAt"</span><span class="p">:</span><span class="s2">"1619779696705"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>limit</td>
<td>STRING</td>
<td>NO</td>
<td>max <code>100</code>, default <code>100</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity of the asset</td>
</tr>
<tr>
<td>mintedAt</td>
<td>STRING</td>
<td>Minted time in millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-redeem'>POST <code>/v2/redeem</code></h3>
<p>Redeem.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/redeem</span><span class="w">

</span><span class="p">{</span><span class="w">

    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Normal"</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"redeem"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"1620964351508"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"1532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="p">:</span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"redeemAt"</span><span class="p">:</span><span class="s2">"1620964800000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"NORMAL"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING/DECIMAL</td>
<td>YES</td>
<td>Quantity of the asset</td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>YES</td>
<td>Redeem type, available types: <code>Normal</code>, <code>Instant</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity of the asset</td>
</tr>
<tr>
<td>redeemAt</td>
<td>STRING</td>
<td>Redeemed time</td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>Redeem type, available types: <code>Normal</code>, <code>Instant</code></td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-redeem-asset'>GET <code>/v2/redeem/{asset}</code></h3>
<p>Get redemption history by asset and sorted by time in descending order.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/redeem/</span><span class="p">{</span><span class="err">asset</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"redemptionHistory"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"1620964856842"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"1570"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"asset"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"0.001000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"requestedAt"</span><span class="p">:</span><span class="s2">"1619788358578"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"redeemedAt"</span><span class="p">:</span><span class="s2">"1619788860219"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"asset"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"0.001000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"requestedAt"</span><span class="p">:</span><span class="s2">"1619788328760"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"redeemedAt"</span><span class="p">:</span><span class="s2">"1619788328963"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>limit</td>
<td>STRING</td>
<td>NO</td>
<td>max <code>100</code>, default <code>100</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity of the asset</td>
</tr>
<tr>
<td>requestedAt</td>
<td>STRING</td>
<td>when the redeem request was made</td>
</tr>
<tr>
<td>redeemedAt</td>
<td>STRING</td>
<td>when the redemption was actually processed</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-borrow'>POST <code>/v2/borrow</code></h3>
<p>Borrow.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/borrow</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"borrowAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"collateralAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"borrow"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626433827430"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"borrowAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"borrowedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"296.21588287"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"collateralizedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nonCollateralizedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLOATING_RATE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"borrowedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626433827616"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>borrowAsset</td>
<td>STRING</td>
<td>YES</td>
<td>Borrow asset, can only be <code>USD</code> for now</td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>YES</td>
<td>Collateral asset</td>
</tr>
<tr>
<td>collateralAmount</td>
<td>STRING</td>
<td>YES</td>
<td>Collateral amount of the collateral asset</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>borrowAsset</td>
<td>STRING</td>
<td>Borrow asset, can only be <code>USD</code> for now</td>
</tr>
<tr>
<td>borrowedAmount</td>
<td>STRING</td>
<td>Borrowed amount of the borrow asset</td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>Collateral asset</td>
</tr>
<tr>
<td>collateralizedAmount</td>
<td>STRING</td>
<td>Collateralized amount of the collateral asset</td>
</tr>
<tr>
<td>nonCollateralizedAmount</td>
<td>STRING</td>
<td><code>nonCollateralizedAmount</code> = <code>collateralAmount</code> - <code>collateralizedAmount</code></td>
</tr>
<tr>
<td>rateType</td>
<td>STRING</td>
<td><code>FLOATING_RATE</code> or <code>FIXED_RATE</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td><code>COMPLETED</code> or <code>PARTIAL</code> or <code>CANCELLED</code></td>
</tr>
<tr>
<td>borrowedAt</td>
<td>STRING</td>
<td>The time of borrowed at</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-repay'>POST <code>/v2/repay</code></h3>
<p>Repay.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/repay</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"repayAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"regainAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"regainAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repay"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626433876060"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"repayAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"repaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.33109616"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"regainAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"regainedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nonRegainedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"repaidAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626433876398"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repayAsset</td>
<td>STRING</td>
<td>YES</td>
<td>Repay asset, can only be <code>USD</code> for now</td>
</tr>
<tr>
<td>regainAsset</td>
<td>STRING</td>
<td>YES</td>
<td>Regain asset</td>
</tr>
<tr>
<td>regainAmount</td>
<td>STRING</td>
<td>YES</td>
<td>Regain amount of the regain asset</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>repayAsset</td>
<td>STRING</td>
<td>Repay asset, can only be <code>USD</code> for now</td>
</tr>
<tr>
<td>repaidAmount</td>
<td>STRING</td>
<td>Repaid amount of the repay asset</td>
</tr>
<tr>
<td>regainAsset</td>
<td>STRING</td>
<td>Regain asset</td>
</tr>
<tr>
<td>regainedAmount</td>
<td>STRING</td>
<td>Already regained amount of the regain asset</td>
</tr>
<tr>
<td>nonRegainedAmount</td>
<td>STRING</td>
<td><code>nonRegainedAmount</code> = <code>regainAmount</code> - <code>regainedAmount</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td><code>COMPLETED</code> or <code>PARTIAL</code> or <code>CANCELLED</code></td>
</tr>
<tr>
<td>repaidAt</td>
<td>STRING</td>
<td>The time of repaid at</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-borrow-asset'>GET <code>v2/borrow/{asset}</code></h3>
<p>Get borrow history by asset and sorted by time in descending order.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">v</span><span class="mi">2</span><span class="err">/borrow/</span><span class="p">{</span><span class="err">asset</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"borrowHistory"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626433904976"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"borrowAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrowedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"296.2158828"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralizedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nonCollateralizedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLOATING_RATE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrowedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626433827613"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"borrowAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrowedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralizedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nonCollateralizedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLOATING_RATE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrowedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626432797124"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td>Collateral asset name</td>
</tr>
<tr>
<td>limit</td>
<td>STRING</td>
<td>NO</td>
<td>max <code>100</code>, default <code>100</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>borrowAsset</td>
<td>STRING</td>
<td>Borrow asset, can only be <code>USD</code> for now</td>
</tr>
<tr>
<td>borrowedAmount</td>
<td>STRING</td>
<td>Borrowed amount of the borrow asset</td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>Collateral asset</td>
</tr>
<tr>
<td>collateralizedAmount</td>
<td>STRING</td>
<td>Collateralized amount of the collateral asset</td>
</tr>
<tr>
<td>nonCollateralizedAmount</td>
<td>STRING</td>
<td><code>nonCollateralizedAmount</code> = <code>collateralAmount</code> - <code>collateralizedAmount</code></td>
</tr>
<tr>
<td>rateType</td>
<td>STRING</td>
<td><code>FLOATING_RATE</code> or <code>FIXED_RATE</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td><code>COMPLETED</code> or <code>PARTIAL</code> or <code>CANCELLED</code></td>
</tr>
<tr>
<td>borrowedAt</td>
<td>STRING</td>
<td>The time of borrowed at</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-repay-asset'>GET <code>v2/repay/{asset}</code></h3>
<p>Get repay history by asset and sorted by time in descending order.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">v</span><span class="mi">2</span><span class="err">/repay/</span><span class="p">{</span><span class="err">asset</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repayHistory"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626433953585"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"repayAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"repaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"regainAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"regainedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nonRegainedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELLED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"repaidAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626747403329"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"repayAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"repaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31863.01677"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"regainAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"regainedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nonRegainedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"repaidAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626676776330"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td>Regain asset name</td>
</tr>
<tr>
<td>limit</td>
<td>STRING</td>
<td>NO</td>
<td>max <code>100</code>, default <code>100</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>repayAsset</td>
<td>STRING</td>
<td>Repay asset, can only be <code>USD</code> for now</td>
</tr>
<tr>
<td>repaidAmount</td>
<td>STRING</td>
<td>Repaid amount of the repay asset</td>
</tr>
<tr>
<td>regainAsset</td>
<td>STRING</td>
<td>Regain asset</td>
</tr>
<tr>
<td>regainedAmount</td>
<td>STRING</td>
<td>Already regained amount of the regain asset</td>
</tr>
<tr>
<td>nonRegainedAmount</td>
<td>STRING</td>
<td><code>nonRegainedAmount</code> = <code>regainAmount</code> - <code>regainedAmount</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td><code>COMPLETED</code> or <code>PARTIAL</code> or <code>CANCELLED</code></td>
</tr>
<tr>
<td>borrowedAt</td>
<td>STRING</td>
<td>The time of borrowed at</td>
</tr>
<tr>
<td>repaidAt</td>
<td>STRING</td>
<td>The time of repaid at</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-borrowingsummary'>GET <code>v2/borrowingSummary</code></h3>
<p>Get borrowing summary.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">v</span><span class="mi">2</span><span class="err">/borrowingSummary</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"borrowingSummary"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626433981644"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"borrowAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrowedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109031.8252978"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralizedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.65800000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLOATING_RATE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"To be repaid"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>borrowAsset</td>
<td>STRING</td>
<td>Borrow asset, can only be <code>USD</code> for now</td>
</tr>
<tr>
<td>borrowedAmount</td>
<td>STRING</td>
<td>Total borrowed amount of the borrow asset</td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>Collateral asset</td>
</tr>
<tr>
<td>collateralizedAmount</td>
<td>STRING</td>
<td>Total collateralized amount of the collateral asset</td>
</tr>
<tr>
<td>rateType</td>
<td>STRING</td>
<td><code>FLOATING_RATE</code> or <code>FIXED_RATE</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td><code>To be repaid</code></td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-borrow-close'>POST <code>/v2/borrow/close</code></h3>
<p>Close borrow.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/borrow/close</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29633.5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"closeBorrow"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626434069478"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626434069461"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1626434069478"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000018496331"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29633.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED_BY_FOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderClosed"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td>Borrow asset, can only be <code>USD</code> for now</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>NO</td>
<td>The price to close the borrow, default is the market price</td>
</tr>
<tr>
<td>collateralAmount</td>
<td>STRING</td>
<td>NO</td>
<td>The quantity to close the borrow, default is full position</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Order ID which generated by the server</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Price submitted</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity submitted</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Side of the order, <code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Status of the order</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Time in force</td>
</tr>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderClosed</code> or <code>OrderMatched</code> or <code>OrderOpend</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Type of the order, <code>LIMIT</code> or <code>STOP</code></td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>true</code>(for stop order) or <code>false</code></td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-funding-payments'>GET <code>/v2/funding-payments</code></h3>
<p>Get funding payments by marketCode and sorted by time in descending order.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">v</span><span class="mi">2</span><span class="err">/funding-payments?marketCode=</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="err">&amp;limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td>e.g. <code>BTC-USD-REPO-LIN</code></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>default is <code>500</code>, max is <code>500</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>millisecond timestamp, e.g. <code>1579450778000</code>, default is <code>500 hours ago</code></td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>millisecond timestamp, e.g. <code>1613978625000</code>, default is time now</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fundingPayments"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1627626010074"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"276007"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-122.17530872"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00005"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-61.093"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39996.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1627617632190"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98.71895684"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00005"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-61.093"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32317.6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1627041622046"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>payment</td>
<td>STRING</td>
<td>Funding payment</td>
</tr>
<tr>
<td>rate</td>
<td>STRING</td>
<td>Funding rate</td>
</tr>
<tr>
<td>position</td>
<td>STRING</td>
<td>Position</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>timestamp(in the data list)</td>
<td>STRING</td>
<td>Updated time</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-amm-create'>POST <code>/v2/AMM/create</code></h3>
<p>Create AMM</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/AMM/create</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEUTRAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assetQuantity"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"collateralCounterAsset"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"counterAssetQuantity"</span><span class="p">:</span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="s2">"28000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="s2">"52000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"createAMM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1628491099751"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3101"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BTC-AMM-mz7WAOZc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEUTRAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"collateralCounterAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"counterAssetQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>leverage</td>
<td>STRING</td>
<td>NO</td>
<td>Maximum leverage, with USDT the range of leverage is 1 to 40X otherwise is 1 to 10X</td>
</tr>
<tr>
<td>direction</td>
<td>STRING</td>
<td>YES</td>
<td>Value can be <code>BUY</code> or <code>SELL</code> or <code>NEUTRAL</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td>Market code e.g. <code>BCH-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>NO</td>
<td>Required unless unleveraged and direction is <code>BUY</code></td>
</tr>
<tr>
<td>assetQuantity</td>
<td>STRING</td>
<td>NO</td>
<td>Required unless unleveraged and direction is <code>BUY</code>. Minimum is $200 notional</td>
</tr>
<tr>
<td>collateralCounterAsset</td>
<td>STRING</td>
<td>NO</td>
<td>Required if unleveraged and direction is <code>NEUTRAL</code> or <code>BUY</code></td>
</tr>
<tr>
<td>counterAssetQuantity</td>
<td>STRING</td>
<td>NO</td>
<td>Required if unleveraged and direction is <code>NEUTRAL</code> or <code>BUY</code>. Minimum is $200 notional</td>
</tr>
<tr>
<td>minPriceBound</td>
<td>STRING</td>
<td>YES</td>
<td>When unleveraged and direction is <code>NEUTRAL</code>, minPriceBound and maxPriceBound should be stuck to the formula <code>mid = counterAssetQuantity/collateralAssetQuantity</code> <code>maxPriceBound - mid = mid - minPriceBound</code></td>
</tr>
<tr>
<td>maxPriceBound</td>
<td>STRING</td>
<td>YES</td>
<td>When unleveraged and direction is <code>NEUTRAL</code>, minPriceBound and maxPriceBound should be stuck to the formula <code>mid = counterAssetQuantity/collateralAssetQuantity</code> <code>maxPriceBound - mid = mid - minPriceBound</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>Identity of the AMM</td>
</tr>
<tr>
<td>leverage</td>
<td>STRING</td>
<td>Leverage of the AMM</td>
</tr>
<tr>
<td>direction</td>
<td>STRING</td>
<td>Value can be <code>BUY</code> or <code>SELL</code> or <code>NEUTRAL</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code e.g. <code>BCH-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>Collateral asset</td>
</tr>
<tr>
<td>assetQuantity</td>
<td>STRING</td>
<td>Quantity of the collateral asset</td>
</tr>
<tr>
<td>collateralCounterAsset</td>
<td>STRING</td>
<td>Collateral counter asset</td>
</tr>
<tr>
<td>counterAssetQuantity</td>
<td>STRING</td>
<td>Quantity of the collateral counter asset</td>
</tr>
<tr>
<td>minPriceBound</td>
<td>STRING</td>
<td>Minimum price of the range</td>
</tr>
<tr>
<td>maxPriceBound</td>
<td>STRING</td>
<td>Maximum price of the range</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-amm-redeem'>POST <code>/v2/AMM/redeem</code></h3>
<p>Redeem AMM</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/AMM/redeem</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BTC-AMM-WJRzxzb"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redeemType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVER"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redeemAMM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1628502282362"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3101"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BTC-AMM-mz7WAOZc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"redeemType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVER"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>YES</td>
<td>Identity of the AMM</td>
</tr>
<tr>
<td>redeemType</td>
<td>STRING</td>
<td>YES</td>
<td>Value can be <code>DELIVER</code> or <code>MANUAL</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>Identity of the AMM</td>
</tr>
<tr>
<td>redeemType</td>
<td>STRING</td>
<td>YES</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-amm'>GET <code>/v2/AMM</code></h3>
<p>Get AMMs.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">v</span><span class="mi">2</span><span class="err">/AMM?hashToken=CF-BTC-AMM-RoBwokR&amp;marketCode=BTC-USD-SWAP-LIN</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"infoAMM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1628508877030"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3101"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BTC-AMM-RoBwokR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEUTRAL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXECUTING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"assetQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralCounterAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counterAssetQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8750"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16250"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"assetBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counterAssetBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19894.5719512"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.433"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37758.38"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"usdEarned"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"flexReward"</span><span class="p">:</span><span class="w"> </span><span class="s2">"675"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"86.64"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1628066890178"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1628476562875"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>NO</td>
<td>Multiple hashTokens can be separated by a comma</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>NO</td>
<td>Value can be <code>ENDED</code> or <code>EXECUTING</code> or <code>PENDING</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>Identity of the AMM</td>
</tr>
<tr>
<td>direction</td>
<td>STRING</td>
<td>Value can be <code>BUY</code> or <code>SELL</code> or <code>NEUTRAL</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Value can be <code>ENDED</code> or <code>EXECUTING</code> or <code>PENDING</code></td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>Collateral asset</td>
</tr>
<tr>
<td>assetQuantity</td>
<td>STRING</td>
<td>Quantity of the collateral asset</td>
</tr>
<tr>
<td>collateralCounterAsset</td>
<td>STRING</td>
<td>Collateral counter asset</td>
</tr>
<tr>
<td>counterAssetQuantity</td>
<td>STRING</td>
<td>Quantity of the collateral counter asset</td>
</tr>
<tr>
<td>minPriceBound</td>
<td>STRING</td>
<td>Minimum price of the range</td>
</tr>
<tr>
<td>maxPriceBound</td>
<td>STRING</td>
<td>Maximum price of the range</td>
</tr>
<tr>
<td>position</td>
<td>STRING</td>
<td>Current position</td>
</tr>
<tr>
<td>usdEarned</td>
<td>STRING</td>
<td>USD already earned</td>
</tr>
<tr>
<td>flexReward</td>
<td>STRING</td>
<td>Amount of FLEX reward</td>
</tr>
<tr>
<td>apr</td>
<td>STRING</td>
<td>APR(annual percentage rate)</td>
</tr>
<tr>
<td>createdAt</td>
<td>STRING</td>
<td>The time that AMM was created at</td>
</tr>
<tr>
<td>updatedAt</td>
<td>STRING</td>
<td>The time that AMM was updated at</td>
</tr>
</tbody></table>
<h2 id='rest-api-methods-public'>Methods - Public</h2><h3 id='rest-api-methods-public-get-v2-all-markets'>GET <code>/v2/all/markets</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/all/markets`</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markets"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1620810144786"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2001000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"referencePair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"qtyIncrement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"listingDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">2208988800000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upperPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11000.00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lowerPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000.00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000.00"</span><span class="w">
            </span><span class="nl">"marketPriceLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1620810131131"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a list of all available markets on CoinFlex.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>marketId</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market Code</td>
</tr>
<tr>
<td>name</td>
<td>STRING</td>
<td>Name of the contract</td>
</tr>
<tr>
<td>referencePair</td>
<td>STRING</td>
<td>Reference pair</td>
</tr>
<tr>
<td>base</td>
<td>STRING</td>
<td>Base asset</td>
</tr>
<tr>
<td>counter</td>
<td>STRING</td>
<td>Counter asset</td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>Type of the contract</td>
</tr>
<tr>
<td>tickSize</td>
<td>STRING</td>
<td>Tick size of the contract</td>
</tr>
<tr>
<td>qtyIncrement</td>
<td>STRING</td>
<td>Minimum increamet quantity</td>
</tr>
<tr>
<td>listingDate</td>
<td>STRING</td>
<td>Listing date of the contract</td>
</tr>
<tr>
<td>endDate</td>
<td>STRING</td>
<td>Ending date of the contract</td>
</tr>
<tr>
<td>marginCurrency</td>
<td>STRING</td>
<td>Margining currency</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Contract valuation currency</td>
</tr>
<tr>
<td>upperPriceBound</td>
<td>STRING</td>
<td>Upper price bound</td>
</tr>
<tr>
<td>lowerPriceBound</td>
<td>STRING</td>
<td>Lower price bound</td>
</tr>
<tr>
<td>marketPrice</td>
<td>STRING</td>
<td>Market price</td>
</tr>
<tr>
<td>marketPriceLastUpdated</td>
<td>LONG</td>
<td>The time that market price last updated at</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-all-assets'>GET <code>/v2/all/assets</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/all/assets</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assets"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"1593617008698"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-200626-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD 20-06-26 Future (Linear)"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryInstrument"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryInstrument"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a list of all assets available on CoinFLEX. These include coins and bookable contracts.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>name</td>
<td>STRING</td>
<td>Name of the asset</td>
</tr>
<tr>
<td>base</td>
<td>STRING</td>
<td>Base of the asset</td>
</tr>
<tr>
<td>counter</td>
<td>STRING</td>
<td>Counter of the asset</td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>type of the asset</td>
</tr>
<tr>
<td>marginCurrency</td>
<td>STRING</td>
<td>Margining currency</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Contract valuation currency</td>
</tr>
<tr>
<td>deliveryDate</td>
<td>STRING</td>
<td>Delivery date</td>
</tr>
<tr>
<td>deliveryInstrument</td>
<td>STRING</td>
<td>Delivery instrument</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-publictrades-marketcode'>GET <code>/v2/publictrades/{marketCode}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/publictrades/</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"publicTrades"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595636619410"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160070803925856675"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.100000000"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9600.000000000"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"matchTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595585860254"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get most recent trades.</p>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 100, max 300</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>matchID</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>matchQuantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>matchPrice</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>matchTimestamp</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-ticker'>GET <code>/v2/ticker</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/ticker</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"ticker"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"123443563454"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43.259"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11012.80409769"</span><span class="p">,</span><span class="w">  
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49.375"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11295421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1025.7"</span><span class="p">,</span><span class="w">                       
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49.488"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.649"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726003"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a list of all of the tickers.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>&quot;BTC-USD-SWAP-LIN&quot;,</td>
</tr>
<tr>
<td>last</td>
<td>STRING</td>
<td>Last traded price</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>open24h</td>
<td>STRING</td>
<td>Daily opening price</td>
</tr>
<tr>
<td>volume24h</td>
<td>STRING</td>
<td>24 hour volume (USD)</td>
</tr>
<tr>
<td>currencyVolume24h</td>
<td>STRING</td>
<td>24 hour volume (coin)</td>
</tr>
<tr>
<td>high24h</td>
<td>STRING</td>
<td>24 hour high</td>
</tr>
<tr>
<td>low24h</td>
<td>STRING</td>
<td>24 hour low</td>
</tr>
<tr>
<td>openInterest</td>
<td>STRING</td>
<td>Current open interest</td>
</tr>
<tr>
<td>lastQty</td>
<td>STRING</td>
<td>Last traded quantity</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-delivery-public-funding'>GET <code>/v2/delivery/public/funding</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/delivery/public/funding?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-08 04:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMP-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-08 04:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CRV-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Get funding rate</p>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>column</td>
<td>STRING</td>
<td>limit size of results, e.g. 3</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>e.g. UNI-USD-SWAP-LIN</td>
</tr>
<tr>
<td>limit</td>
<td>STRING</td>
<td>default <code>100</code>, max <code>500</code></td>
</tr>
<tr>
<td>startTime</td>
<td>STRING</td>
<td>STRING. e.g. <code>2021-12-08 08:00:00</code>. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>STRING</td>
<td>STRING. e.g. <code>2021-12-08 08:00:00</code>. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>&quot;BTC-USD-SWAP-LIN&quot;</td>
</tr>
<tr>
<td>fundingRate</td>
<td>STRING</td>
<td>e.g. 0.000060000</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-1-deliver-auction-instrumentid'>GET <code>/v2.1/deliver-auction/{instrumentId}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/deliver-auction</span><span class="w">

</span><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mf">2.1</span><span class="err">/deliver-auction/&lt;instrumentId&gt;</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deliverAuction"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1596620815090"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auctionTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1596620805000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"netDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-5.100000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estFundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. Get entire delivery history.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>UNIX Timestamp of the response</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>auctionTime</td>
<td>STRING</td>
<td>UNIX timestamp of the next auction</td>
</tr>
<tr>
<td>netDeliver</td>
<td>STRING</td>
<td>Delivery imbalance (negative = more shorts than longs and vice versa)</td>
</tr>
<tr>
<td>estFundingRate</td>
<td>STRING</td>
<td>Estimated funding rate a positive rate means longs pay shorts</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-candles-marketcode'>GET <code>/v2/candles/{marketCode}</code></h3>
<p>Get historical candles of active and expired markets.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/candles/</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="err">?timeframe=</span><span class="p">{</span><span class="err">timeframe</span><span class="p">}</span><span class="err">&amp;limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td>When marketCode is expired market like <code>BTC-USD-201225-LIN</code>, the startTime and the endTime should be explicitly set in <code>2020</code></td>
</tr>
<tr>
<td>timeframe</td>
<td>STRING</td>
<td>NO</td>
<td>e.g. <code>60s</code>, <code>300s</code>, <code>900s</code>, <code>1800s</code>, <code>3600s</code>, <code>7200s</code>, <code>14400s</code>, <code>86400s</code>, default <code>3600s</code></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>max <code>5000</code>, default <code>500</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp, e.g. <code>1579450778000</code>, default is <code>limit</code> times <code>timeframe</code> ago, if the limit is <code>300</code> and the timeframe is <code>3600s</code> then the default startTime is <code>time now - 300x3600s</code>, if the limit is not present and the timeframe is <code>3600s</code> then the default startTime is <code>time now - 500x3600s</code></td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp, e.g <code>1579450778000</code>, default time now</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"candles"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1616743098781"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeframe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60s"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1616713140000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51706.50000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51758.50000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51705.50000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51754.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1616713200000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51755.50000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51833.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51748.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51815.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp(outer)</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timeframe</td>
<td>STRING</td>
<td>Selected timeframe</td>
</tr>
<tr>
<td>timestamp(inner)</td>
<td>STRING</td>
<td>Beginning of the candle</td>
</tr>
<tr>
<td>open</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>volume24h</td>
<td>STRING</td>
<td>24 hour rolling trading volume in counter currency</td>
</tr>
<tr>
<td>currencyVolumn24h</td>
<td>STRING</td>
<td>24 hour rolling trading volume in base currency</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-funding-rates-marketcode'>GET <code>/v2/funding-rates/{marketCode}</code></h3>
<p>Get funding rates by marketCode and sorted by time in descending order.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/funding-rates/</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="err">?startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="err">&amp;limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td>e.g. BTC-USD-REPO-LIN , available values: BTC-USD-REPO-LIN, ETH-USD-REPO-LIN</td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>default is <code>50</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>millisecond timestamp, e.g. <code>1579450778000</code>, default is 7 days ago from time now</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>millisecond timestamp, e.g. <code>1613978625000</code>, default is time now</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fundingRates"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1611645666834"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.78222423"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33937.2848"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-REPO-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1606461774458"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>fundingRate</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>index</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp(in the data list)</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-depth-marketcode-level'>GET <code>/v2/depth/{marketCode}/{level}</code></h3>
<p>Get order book by marketCode and level.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/depth/BTC-USD-SWAP-LIN/</span><span class="mi">5</span><span class="w"> 
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depthL5"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1615457834446"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="mi">54792</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">0.001</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="p">[</span><span class="w">
                    </span><span class="mf">54802.5</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">0.366</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="p">[</span><span class="w">
                    </span><span class="mi">54803</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">0.75</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="p">[</span><span class="w">
                    </span><span class="mi">54806</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">1.5</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="p">[</span><span class="w">
                    </span><span class="mf">54830.5</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">0.687</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="mf">54786.5</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">0.1</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="p">[</span><span class="w">
                    </span><span class="mf">54754.5</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">0.375</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="p">[</span><span class="w">
                    </span><span class="mi">54752</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">0.394</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="p">[</span><span class="w">
                    </span><span class="mf">54749.5</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">0.001</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="p">[</span><span class="w">
                    </span><span class="mf">54745.5</span><span class="p">,</span><span class="w"> 
                    </span><span class="mf">0.339</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1615457834388"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>LIST</td>
<td></td>
</tr>
<tr>
<td>asks</td>
<td>LIST of floats</td>
<td>Sell side depth: <ol><li>price</li><li>quantity</li></ol></td>
</tr>
<tr>
<td>bids</td>
<td>LIST of floats</td>
<td>Buy side depth: <ol><li>price</li><li>quantity</li></ol></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-ping'>GET <code>/v2/ping</code></h3>
<p>Get API service status.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/ping</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sucess</td>
<td>STRING</td>
<td><code>&quot;true&quot;</code> indicates that the API service is OK otherwise it will be failed</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-flex-protocol-balances-flexprotocol'>GET <code>/v2/flex-protocol/balances/{flexProtocol}</code></h3>
<p>Get flexAsset balances.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/flex-protocol/balances/</span><span class="p">{</span><span class="err">flexProtocol</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexBalances"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621582973071"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINEAR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"flexProtocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="s2">"10.140668310000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"available"</span><span class="p">:</span><span class="s2">"10.140668310000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reserved"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="s2">"39203"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="s2">"1645228442021"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">   </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="s2">"56.3903310956678000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"available"</span><span class="p">:</span><span class="s2">"56.3903310956678000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reserved"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="s2">"1629525660717"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>YES</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td>Trade type</td>
</tr>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Coin symbol, e.g. &#39;BTC&#39;</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total balance</td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved balance (unavailable) due to working spot orders</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>quantityLastUpdated</td>
<td>STRING</td>
<td>Millisecond timestamp of when balance was last updated</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-flex-protocol-positions-flexprotocol'>GET <code>/v2/flex-protocol/positions/{flexProtocol}</code></h3>
<p>Get flexAsset positions.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/flex-protocol/positions/</span><span class="p">{</span><span class="err">flexProtocol</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexPositions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590427436"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"flexProtocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-169.048"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590364988"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40766.3490"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-23506.2934480"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1279.83"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621587180441"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2798.5100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53420.104200"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-299.49"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621585374591"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"207.9500"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"503.143200"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>YES</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Contract symbol, e.g. <code>FLEX-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity of position, e.g. <code>0.94</code></td>
</tr>
<tr>
<td>lastUpdated</td>
<td>STRING</td>
<td>Timestamp when position was last updated</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Contract valuation currency</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Average entry price</td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Postion profit and lost</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-flex-protocol-orders-flexprotocol'>GET <code>/v2/flex-protocol/orders/{flexProtocol}</code></h3>
<p>Get flexAsset orders.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/flex-protocol/orders/</span><span class="p">{</span><span class="err">flexProtocol</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexOrders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590953053"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000085820424"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMP-USD-REPO-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.26"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainingQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.26"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590951780"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastModified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590951903"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastTradeTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590951828"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000085820409"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMP-USD-REPO-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.21"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainingQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.21"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00005"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00005"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590951510"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastModified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590951608"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastTradeTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590951543"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000085820408"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMP-USD-REPO-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainingQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00004"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00004"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590951381"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastModified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590951394"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastTradeTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621590951392"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>YES</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td><code>LIMIT</code> or <code>STOP</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity submitted</td>
</tr>
<tr>
<td>remainingQuantity</td>
<td>STRING</td>
<td>Remainning quantity</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Price submitted</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price for the stop order</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price for the stop limit order</td>
</tr>
<tr>
<td>orderCreated</td>
<td>STRING</td>
<td>Timestamp when order was created</td>
</tr>
<tr>
<td>lastModified</td>
<td>STRING</td>
<td>Timestamp when order was last mordified</td>
</tr>
<tr>
<td>lastTradeTimestamp</td>
<td>STRING</td>
<td>Timestamp when order was last traded</td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Time in force</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-flex-protocol-trades-flexprotocol-marketcode'>GET <code>/v2/flex-protocol/trades/{flexProtocol}/{marketCode}</code></h3>
<p>Get flexAsset trades.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/flex-protocol/trades/</span><span class="p">{</span><span class="err">flexProtocol</span><span class="p">}</span><span class="err">/</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexTrades"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621591479201"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"flexProtocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexBTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.788"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621483974496"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000009522024"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621483945643"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39400"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2001011000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.400000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.788"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621483973636"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000009522024"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621483945643"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39400"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2001011000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.800000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.788"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621483973476"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000009522024"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621483945643"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39400"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2001011000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>YES</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>default <code>100</code>, max <code>500</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>matchId</td>
<td>STRING</td>
<td>Match ID</td>
</tr>
<tr>
<td>matchTimestamp</td>
<td>STRING</td>
<td>Order Matched timestamp</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>matchQuantity</td>
<td>STRING</td>
<td>Match quantity</td>
</tr>
<tr>
<td>matchPrice</td>
<td>STRING</td>
<td>Match price</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total price</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Side of the match</td>
</tr>
<tr>
<td>orderMatchType</td>
<td>STRING</td>
<td><code>TAKER</code> or <code>MAKER</code></td>
</tr>
<tr>
<td>fees</td>
<td>STRING</td>
<td>Fees</td>
</tr>
<tr>
<td>feeInstrumentId</td>
<td>STRING</td>
<td>Instrument ID of the fees</td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>clientOrderID</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-flex-protocol-delivery-orders-flexprotocol'>GET <code>/v2/flex-protocol/delivery/orders/{flexProtocol}</code></h3>
<p>Get flexAsset delivery orders.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/flex-protocol/delivery/orders/</span><span class="p">{</span><span class="err">flexProtocol</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime=</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexDeliveryOrders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621592173494"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"flexProtocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexBTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621411380000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40225.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentIdDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.2254"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"659754125496582148"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621411378000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40217.8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentIdDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.2178"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"659754119608827908"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1621411376000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40226.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentIdDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.2265"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"659754113236107267"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>YES</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>default <code>100</code>, max <code>500</code></td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexProtocol</td>
<td>STRING</td>
<td>Available values <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Perpetual swap market code</td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Request status</td>
</tr>
<tr>
<td>quantity</td>
<td>Null Type</td>
<td>null</td>
</tr>
<tr>
<td>deliverPrice</td>
<td>STRING</td>
<td>Mark price at delivery</td>
</tr>
<tr>
<td>transferAsset</td>
<td>STRING</td>
<td>Asset being sent</td>
</tr>
<tr>
<td>transferQty</td>
<td>STRING</td>
<td>Quantity being sent</td>
</tr>
<tr>
<td>instrumentIdDeliver</td>
<td>STRING</td>
<td>Asset being received: long position is <code>coin</code>, short position is <code>USD</code></td>
</tr>
<tr>
<td>deliverQty</td>
<td>STRING</td>
<td>Quantity of the received asset</td>
</tr>
<tr>
<td>deliverOrderId</td>
<td>STRING</td>
<td>Order id</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>Null Type</td>
<td>null</td>
</tr>
</tbody></table>
<h1 id='rest-api-v3'>REST API V3</h1>
<p><strong>TEST</strong> </p>

<ul>
<li><code>https://v2stgapi.coinflex.com</code></li>
</ul>

<p><strong>LIVE</strong> site</p>

<ul>
<li><code>https://v2api.coinflex.com</code></li>
</ul>

<p>For clients who do not wish to take advantage of CoinFLEX&#39;s native WebSocket API, CoinFLEX offers a RESTful API that implements much of the same functionality.</p>
<h2 id='rest-api-v3-error-codes'>Error Codes</h2>
<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>429</td>
<td>Rate limit reached</td>
</tr>
<tr>
<td>10001</td>
<td>General networking failure</td>
</tr>
<tr>
<td>20001</td>
<td>Invalid parameter</td>
</tr>
<tr>
<td>30001</td>
<td>Missing parameter</td>
</tr>
<tr>
<td>40001</td>
<td>Alert from the server</td>
</tr>
<tr>
<td>50001</td>
<td>Unknown server error</td>
</tr>
</tbody></table>
<h2 id='rest-api-v3-rate-limits'>Rate Limits</h2>
<p>Each IP is limited to:</p>

<ul>
<li>100 requests per second</li>
<li>20 POST v3/orders requests per second</li>
<li>2500 requests over 5 minutes</li>
</ul>

<p>Certain endpoints have extra IP restrictions:</p>

<ul>
<li><code>s</code> denotes a second</li>
<li>Requests limited to <code>1/s</code> &amp; <code>2/10s</code> &amp; <code>4/10s(only for the AMM POST requests)</code>

<ul>
<li>Only 1 request is permitted per second and only 2 requests are permitted within 10 seconds</li>
<li>Only 4 requests are permitted within 10 seconds for the AMM POST requests</li>
</ul></li>
<li>Request limit <code>1/10s</code>

<ul>
<li>The endpoint will block for 10 seconds after an incorrect 2FA code is provided (if the endpoint requires a 2FA code)</li>
</ul></li>
</ul>

<p>Affected APIs:</p>

<ul>
<li><a href="?json#rest-api-v3-deposits-and-withdrawals-post-v3-withdrawal">POST /v3/withdrawal</a></li>
<li><a href="?json#rest-api-v3-deposits-and-withdrawals-post-v3-transfer">POST /v3/transfer</a></li>
<li><a href="?json#rest-api-v3-flex-assets-post-v3-flexasset-mint">POST /v3/flexasset/mint</a></li>
<li><a href="?json#rest-api-v3-flex-assets-post-v3-flexasset-redeem">POST /v3/flexasset/redeem</a></li>
<li><a href="?json#rest-api-v3-amm-post-v3-amm-create">POST /v3/AMM/create</a>(<code>4/10s</code>)</li>
<li><a href="?json#rest-api-v3-amm-post-v3-amm-redeem">POST /v3/AMM/redeem</a>(<code>4/10s</code>)</li>
</ul>
<h2 id='rest-api-v3-authentication'>Authentication</h2>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccessKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Nonce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>


<span class="c1"># rest_url = 'https://v2api.coinflex.com'
# rest_path = 'v2api.coinflex.com'
</span>
<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">"API-KEY"</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">"API-SECRET"</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">method</span> <span class="o">=</span> <span class="s">"API-METHOD"</span>

<span class="c1"># Optional and can be omitted depending on the REST method being called 
</span><span class="n">body</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">'key1'</span><span class="p">:</span> <span class="s">'value1'</span><span class="p">,</span> <span class="s">'key2'</span><span class="p">:</span> <span class="s">'value2'</span><span class="p">})</span>

<span class="k">if</span> <span class="n">body</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span> <span class="o">+</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">body</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">method</span>

<span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="c1"># When calling an endpoint that uses body
# resp = requests.post(rest_url + method, data=body, headers=header)
</span><span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Public market data methods do not require authentication, however private methods require a <em>Signature</em> to be sent in the header of the request.  These private REST methods  use HMAC SHA256 signatures. </p>

<p>The HMAC SHA256 signature is a keyed HMAC SHA256 operation using a client&#39;s API Secret as the key and a message string as the value for the HMAC operation.</p>

<p>The message string is constructed as follows:-</p>

<p><code>msgString = f&#39;{Timestamp}\n{Nonce}\n{Verb}\n{URL}\n{Path}\n{Body}&#39;</code></p>

<table><thead>
<tr>
<th>Component</th>
<th>Required</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Timestamp</td>
<td>Yes</td>
<td>2020-04-30T15:20:30</td>
<td>YYYY-MM-DDThh:mm:ss</td>
</tr>
<tr>
<td>Nonce</td>
<td>Yes</td>
<td>123</td>
<td>User generated</td>
</tr>
<tr>
<td>Verb</td>
<td>Yes</td>
<td>GET</td>
<td>Uppercase</td>
</tr>
<tr>
<td>Path</td>
<td>Yes</td>
<td>v2stgapi.coinflex.com</td>
<td></td>
</tr>
<tr>
<td>Method</td>
<td>Yes</td>
<td>/v3/positions</td>
<td>Available REST methods</td>
</tr>
<tr>
<td>Body</td>
<td>No</td>
<td>marketCode=BTC-USD-SWAP-LIN</td>
<td>Optional and dependent on the REST method being called</td>
</tr>
</tbody></table>

<p>The constructed message string should look like:-</p>

<p><code>2020-04-30T15:20:30\n
  123\n
  GET\n
  v2stgapi.coinflex.com\n
  /v3/positions\n
  marketCode=BTC-USD-SWAP-LIN</code></p>

<p>Note the newline characters after each component in the message string. 
If <em>Body</em> is omitted it&#39;s treated as an empty string.</p>

<p>Finally, you must use the HMAC SHA256 operation to get the hash value using the API Secret as the key, and the constructed message string as the value for the HMAC operation. Then encode this hash value with BASE-64.  This output becomes the signature for the specified authenticated REST API method. </p>

<p>The signature must then be included in the header of the REST API call like so:</p>

<p><code>header = {&#39;Content-Type&#39;: &#39;application/json&#39;, &#39;AccessKey&#39;: API-KEY, &#39;Timestamp&#39;: TIME-STAMP, &#39;Signature&#39;: SIGNATURE, &#39;Nonce&#39;: NONCE}</code></p>
<h2 id='rest-api-v3-account-amp-wallet-private'>Account &amp; Wallet - Private</h2><h3 id='rest-api-v3-account-amp-wallet-private-get-v3-account'>GET <code>/v3/account</code></h3>
<p>Get account information</p>

<aside class="notice">
Calling this endpoint using an API-KEY linked to the main account with the parameter "subAcc" allows the caller to include additional sub-accounts in the response. If an API-KEY linked to a sub-account is used, then this parameter has no control.
</aside>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET v3/account?subAcc={subAcc},{subAcc}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21213"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"main"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINEAR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balances"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.823"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.823"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415234"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1585.890"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"325.890"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1260"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415123"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"counterAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11411.1"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.590"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.360"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31608.7470"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1637876701404"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"loans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"borrowedAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.6"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50000.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62500.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40000.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592486212218"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"collateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalPositionSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50000.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"portfolioVarMargin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"riskRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.3179"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liquidating"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeTier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1611665624601"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subAcc</td>
<td>STRING</td>
<td>NO</td>
<td>Name of sub account. If no subAcc is given, then the response contains only the account linked to the API-Key. Multiple subAccs can be separated with a comma, maximum of 10 subAccs, e.g. <code>subone,subtwo</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>name</td>
<td>STRING</td>
<td>Account name</td>
</tr>
<tr>
<td>accountType</td>
<td>STRING</td>
<td>Account type</td>
</tr>
<tr>
<td>balances</td>
<td>LIST of dictionaries</td>
<td></td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset name</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total balance</td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved balance</td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>STRING</td>
<td>Timestamp of updated at</td>
</tr>
<tr>
<td>positions</td>
<td>LIST of dictionaries</td>
<td>Positions if applicable</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>baseAsset</td>
<td>STRING</td>
<td>Base asset</td>
</tr>
<tr>
<td>counterAsset</td>
<td>STRING</td>
<td>Counter asset</td>
</tr>
<tr>
<td>position</td>
<td>STRING</td>
<td>Position size</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Entry price</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Position PNL</td>
</tr>
<tr>
<td>estLiquidationPrice</td>
<td>STRING</td>
<td>Estimated liquidation price</td>
</tr>
<tr>
<td>loans</td>
<td>LIST of dictionaries</td>
<td>Loans if applicable</td>
</tr>
<tr>
<td>borrowedAsset</td>
<td>STRING</td>
<td>Borrowed asset</td>
</tr>
<tr>
<td>borrowedAmount</td>
<td>STRING</td>
<td>Borrowed amount</td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>Collateral asset</td>
</tr>
<tr>
<td>collateral</td>
<td>STRING</td>
<td>Collateral</td>
</tr>
<tr>
<td>notionalPositionSize</td>
<td>STRING</td>
<td>Notional position size</td>
</tr>
<tr>
<td>portfolioVarMargin</td>
<td>STRING</td>
<td>Portfolio margin</td>
</tr>
<tr>
<td>riskRatio</td>
<td>STRING</td>
<td>collateralBalance / portfolioVarMargin. Orders are rejected/cancelled if the risk ratio drops below 1, and liquidation occurs if the risk ratio drops below 0.5</td>
</tr>
<tr>
<td>maintenanceMargin</td>
<td>STRING</td>
<td>Maintenance margin. The minimum amount of collateral required to avoid liquidation</td>
</tr>
<tr>
<td>marginRatio</td>
<td>STRING</td>
<td>Margin ratio. Orders are rejected/cancelled if the margin ratio reaches 50, and liquidation occurs if the margin ratio reaches 100</td>
</tr>
<tr>
<td>liquidating</td>
<td>BOOLEAN</td>
<td>Available values: <code>true</code> and <code>false</code></td>
</tr>
<tr>
<td>feeTier</td>
<td>STRING</td>
<td>Fee tier</td>
</tr>
<tr>
<td>createdAt</td>
<td>STRING</td>
<td>Timestamp indicating when the account was created</td>
</tr>
</tbody></table>
<h2 id='rest-api-v3-deposits-amp-withdrawals-private'>Deposits &amp; Withdrawals - Private</h2><h3 id='rest-api-v3-deposits-amp-withdrawals-private-get-v3-deposit-addresses'>GET <code>/v3/deposit-addresses</code></h3>
<p>Deposit addresses</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/deposit-addresses?asset={asset}&amp;network={network}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="s2">"0xD25bCD2DBb6114d3BB29CE946a6356B49911358e"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>STRING</td>
<td>Deposit address</td>
</tr>
<tr>
<td>memo</td>
<td>STRING</td>
<td>Memo (tag) if applicable</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-deposits-amp-withdrawals-private-get-v3-deposit'>GET <code>/v3/deposit</code></h3>
<p>Deposit history</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/deposit?asset={asset}&amp;limit={limit}&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SLP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simpleledger:qzlg6uvceehgzgtz6phmvy8gtdqyt6vf35fxqwx3p7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"651573911056351237"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38c09755bff75d33304a3cb6ee839fcb78bbb38b6e3e16586f20852cdec4886d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"creditedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1617940800000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>NO</td>
<td>Default all assets</td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 50, max 200</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>STRING</td>
<td>Deposit address</td>
</tr>
<tr>
<td>memo</td>
<td>STRING</td>
<td>Memo (tag) if applicable</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>txId</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>creditedAt</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal-addresses'>GET <code>/v3/withdrawal-addresses</code></h3>
<p>Withdrawal addresses</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/withdrawal-addresses?asset={asset}?network={network}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ERC20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x047a13c759D9c3254B4548Fc7e784fBeB1B273g39"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"farming"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"whitelisted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Provides a list of all saved withdrawal addresses along with their respected labels, network, and whitelist status</p>

<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>NO</td>
<td>Default all assets</td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td>NO</td>
<td>Default all networks</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>memo</td>
<td>STRING</td>
<td>Memo (tag) if applicable</td>
</tr>
<tr>
<td>label</td>
<td>STRING</td>
<td>Withdrawal address label</td>
</tr>
<tr>
<td>whitelisted</td>
<td>BOOL</td>
<td></td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal'>GET <code>/v3/withdrawal</code></h3>
<p>Withdrawal history</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/withdrawal?id={id}&amp;asset={asset}&amp;limit={limit}&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"651573911056351237"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SLP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simpleledger:qzlg6uvceehgzgtz6phmvy8gtdqyt6vf35fxqwx3p7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38c09755bff75d33304a3cb6ee839fcb78bbb38b6e3e16586f20852cdec4886d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"requestedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1617940800000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"completedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16003243243242"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td>NO</td>
<td>Default all assets</td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 50, max 200</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other. This filter applies to &quot;requestedAt&quot;</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other. This filter applies to &quot;requestedAt&quot;</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>memo</td>
<td>STRING</td>
<td>Memo (tag) if applicable</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>COMPLETED, PROCESSING, PENDING, ON HOLD, CANCELED, or FAILED</td>
</tr>
<tr>
<td>txId</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>requestedAt</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>completedAt</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-deposits-amp-withdrawals-private-post-v3-withdrawal'>POST <code>/v3/withdrawal</code></h3>
<p>Withdrawal request</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST /v3/withdrawal
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SLP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simpleledger:qzlg6uvceehgzgtz6phmvy8gtdqyt6vf35fxqwx3p7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"externalFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tfaType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GOOGLE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"743249"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"752907053614432259"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SLP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simpleledger:qzlg6uvceehgzgtz6phmvy8gtdqyt6vf35fxqwx3p7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"externalFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1617940800000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Withdrawals may only be initiated by API keys that are linked to the main account and have withdrawals enabled. If the wrong 2fa code is provided the endpoint will block for 10 seconds.</p>

<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>memo</td>
<td>STRING</td>
<td>NO</td>
<td>Memo is required for chains that support memo tags</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>externalFee</td>
<td>BOOL</td>
<td>YES</td>
<td>If false, then the fee is taken from the quantity</td>
</tr>
<tr>
<td>tfaType</td>
<td>STRING</td>
<td>NO</td>
<td>GOOGLE, or AUTHY_SECRET, or YUBIKEY</td>
</tr>
<tr>
<td>code</td>
<td>STRING</td>
<td>NO</td>
<td>2fa code if required by the account</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>memo</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>externalFee</td>
<td>BOOL</td>
<td>If false, then the fee is taken from the quantity</td>
</tr>
<tr>
<td>fee</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>requestedAt</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-deposits-amp-withdrawals-private-get-v3-withdrawal-fee'>GET <code>/v3/withdrawal-fee</code></h3>
<p>Withdrawal fee estimate</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/withdrawal-fee?asset={asset}&amp;network={network}&amp;address={address}&amp;memo={memo}&amp;quantity={quantity}&amp;externalFee={externalFee}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SLP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simpleledger:qzlg6uvceehgzgtz6phmvy8gtdqyt6vf35fxqwx3p7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"externalFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"estimatedFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>memo</td>
<td>STRING</td>
<td>NO</td>
<td>Required only for 2 part addresses (tag or memo)</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>externalFee</td>
<td>BOOL</td>
<td>NO</td>
<td>Default false. If false, then the fee is taken from the quantity</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>memo</td>
<td>STRING</td>
<td>Memo (tag) if applicable</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>externalFee</td>
<td>BOOL</td>
<td>If false, then the fee is taken from the quantity</td>
</tr>
<tr>
<td>estimatedFee</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-deposits-amp-withdrawals-private-post-v3-transfer'>POST <code>/v3/transfer</code></h3>
<p>Sub-account balance transfer</p>

<aside class="notice">
Transferring funds between sub-accounts is restricted to API keys linked to the main account.
</aside>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST /v3/transfer
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fromAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14320"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"toAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15343"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fromAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14320"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"toAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15343"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transferredAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1635038730480"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>fromAccount</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>toAccount</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>fromAccount</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>toAccount</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>transferredAt</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-deposits-amp-withdrawals-private-get-v3-transfer'>GET <code>/v3/transfer</code></h3>
<p>Sub-account balance transfer history</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/transfer?asset={asset}&amp;limit={limit}&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fromAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14320"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"toAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15343"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"703557273590071299"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferredAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1634779040611"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<aside class="notice">
API keys linked to the main account can get all account transfers, 
while API keys linked to a sub-account can only see transfers where the sub-account is either the "fromAccount" or "toAccount".
</aside>

<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>NO</td>
<td>Default all assets</td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 50, max 200</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>fromAccount</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>toAccount</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>transferredAt</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h2 id='rest-api-v3-flex-assets-private'>Flex Assets - Private</h2><h3 id='rest-api-v3-flex-assets-private-post-v3-flexasset-mint'>POST <code>/v3/flexasset/mint</code></h3>
<p>Mint</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST /v3/flexasset/mint
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<aside class="notice">
Minting is restricted starting 1 minute before an interest payment until 1 minute after the interest payment.
Interest payments occur at 04:00, 12:00, and 20:00 UTC.
</aside>

<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td>Asset name, available assets e.g. <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code>, <code>flexAXS</code>, <code>flexBNB</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>YES</td>
<td>Quantity to mint, minimum quantity required: <code>10 flexUSD</code>, <code>0.001 flexBTC</code>, <code>0.1 flexETH</code>, <code>100 flexFLEX</code>, <code>1 flexAXS</code>, <code>1 flexBNB</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-flex-assets-private-post-v3-flexasset-redeem'>POST <code>/v3/flexasset/redeem</code></h3>
<p>Redeem</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST /v3/flexasset/redeem
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"redemptionAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1617940800000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<aside class="notice">
Redemptions of any type are restricted starting 1 minute before an interest payment until 1 minute after the interest payment.
Interest payments occur at 04:00, 12:00, and 20:00 UTC.
</aside>

<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>YES</td>
<td>Asset name, available assets e.g. <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code>, <code>flexAXS</code>, <code>flexBNB</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>YES</td>
<td>Quantity to redeem, minimum quantity required: <code>10 flexUSD</code>, <code>0.001 flexBTC</code>, <code>0.1 flexETH</code>, <code>100 flexFLEX</code>, <code>1 flexAXS</code>, <code>1 flexBNB</code></td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>YES</td>
<td><code>NORMAL</code> queues a redemption until the following interest payment and incurs no fee. <code>INSTANT</code> instantly redeems into the underlying asset and charges a fee equal to the sum of the two prior interest payments</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>Available types: <code>NORMAL</code>, <code>INSTANT</code></td>
</tr>
<tr>
<td>redemptionAt</td>
<td>STRING</td>
<td>Millisecond timestamp indicating when redemption will take place</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-flex-assets-private-get-v3-flexasset-mint'>GET <code>/v3/flexasset/mint</code></h3>
<p>Get mint history by asset and sorted by time in descending order.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/flexasset/mint?asset={asset}&amp;limit={limit}&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"mintedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16003243243242"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>NO</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 50, max 200</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>mintedAt</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-flex-assets-private-get-v3-flexasset-redeem'>GET <code>/v3/flexasset/redeem</code></h3>
<p>Get redemption history by asset and sorted by time in descending order.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/flexasset/redeem?asset={asset}&amp;limit={limit}&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"requestedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16003243243242"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"redeemedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16003243243242"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>NO</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 50, max 200</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other. Here startTime and endTime refer to the &quot;requestedAt&quot; timestamp</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other. Here startTime and endTime refer to the &quot;requestedAt&quot; timestamp</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>requestedAt</td>
<td>STRING</td>
<td>Millisecond timestamp indicating when redemption was requested</td>
</tr>
<tr>
<td>redeemedAt</td>
<td>STRING</td>
<td>Millisecond timestamp indicating when the flexAssets were redeemed</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-flex-assets-private-get-v3-flexasset-earned'>GET <code>/v3/flexasset/earned</code></h3>
<p>Get earned history by asset and sorted by time in descending order.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/flexasset/earned?asset={asset}&amp;limit={limit}&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"snapshotQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00022831"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.28310502"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paidAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1635822660847"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>NO</td>
<td>Asset name, available assets: <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 50, max 200</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset name</td>
</tr>
<tr>
<td>snapshotQuantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>apr</td>
<td>STRING</td>
<td>Annualized APR (%) = rate * 3 * 365 * 100</td>
</tr>
<tr>
<td>rate</td>
<td>STRING</td>
<td>Period interest rate</td>
</tr>
<tr>
<td>amount</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>paidAt</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h2 id='rest-api-v3-amm-private'>AMM - Private</h2><h3 id='rest-api-v3-amm-private-post-v3-amm-create'>POST <code>/v3/AMM/create</code></h3>
<p>Create AMM</p>

<ul>
<li>Leveraged buy or sell or neutral</li>
</ul>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST /v3/AMM/create
</code></pre></div>
<blockquote>
<p><strong>Parameters to create a leveraged buy, sell, or neutral AMM</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"collateralQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BCH-AMM-ABCDE3iy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">    
        </span><span class="nl">"collateralQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">                
        </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>leverage</td>
<td>STRING</td>
<td>NO</td>
<td>String from 1 to 10</td>
</tr>
<tr>
<td>direction</td>
<td>STRING</td>
<td>YES</td>
<td>Available values: <code>BUY</code> and <code>SELL</code></td>
</tr>
<tr>
<td>marketcode</td>
<td>STRING</td>
<td>YES</td>
<td>Market code</td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>NO</td>
<td>Collateral asset, required when using leverage</td>
</tr>
<tr>
<td>collateralQuantity</td>
<td>STRING</td>
<td>NO</td>
<td>Collateral quantity, minimum notional $200, required when using leverage</td>
</tr>
<tr>
<td>baseQuantity</td>
<td>STRING</td>
<td>NO</td>
<td>Base asset quantity, required for unleveraged sell, and neutral AMMs.</td>
</tr>
<tr>
<td>counterQuantity</td>
<td>STRING</td>
<td>NO</td>
<td>Counter asset quantity, required for unleveraged buy, and neutral AMMs</td>
</tr>
<tr>
<td>minPriceBound</td>
<td>STRING</td>
<td>YES</td>
<td>Minimum price bound</td>
</tr>
<tr>
<td>maxPriceBound</td>
<td>STRING</td>
<td>YES</td>
<td>Maximum price bound</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>Hash token</td>
</tr>
<tr>
<td>leverage</td>
<td>STRING</td>
<td>Leverage, string from 1 to 10</td>
</tr>
<tr>
<td>direction</td>
<td>STRING</td>
<td>Available values: <code>BUY</code> and <code>SELL</code></td>
</tr>
<tr>
<td>marketcode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>Collateral asset</td>
</tr>
<tr>
<td>collateralQuantity</td>
<td>STRING</td>
<td>Collateral quantity, minimum notional $200</td>
</tr>
<tr>
<td>baseAsset</td>
<td>STRING</td>
<td>Base asset</td>
</tr>
<tr>
<td>baseQuantity</td>
<td>STRING</td>
<td>Base asset quantity, required for unleveraged sell, and neutral AMMs</td>
</tr>
<tr>
<td>counterAsset</td>
<td>STRING</td>
<td>Counter asset</td>
</tr>
<tr>
<td>counterQuantity</td>
<td>STRING</td>
<td>Counter asset quantity, required for unleveraged buy, and neutral AMMs</td>
</tr>
<tr>
<td>minPriceBound</td>
<td>STRING</td>
<td>Minimum price bound</td>
</tr>
<tr>
<td>maxPriceBound</td>
<td>STRING</td>
<td>Maximum price bound</td>
</tr>
</tbody></table>

<ul>
<li>Unleveraged buy</li>
</ul>

<blockquote>
<p><strong>Unleveraged buy AMM</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"counterQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"250"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BCH-AMM-ABCDE3iy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"counterAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"counterQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>Unleveraged neutral</li>
</ul>

<p>For unleveraged neutral AMMs the mid point of the price bounds has to equal counterQuantity / baseQuantity.</p>

<blockquote>
<p><strong>Unleveraged neutral AMM</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEUTRAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"baseQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"counterQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BCH-AMM-ABCDE3iy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"counterAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"counterQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='rest-api-v3-amm-private-post-v3-amm-redeem'>POST <code>/v3/AMM/redeem</code></h3>
<p>Redeem AMM</p>

<aside class="notice">
AMMs can be created by either the father account or child account. The AMM becomes the child of the account that created it. Father accounts can redeem any AMM into any account. Child accounts can redeem their child AMMs only into their account.
</aside>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST /v3/AMM/redeem
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BCH-AMM-ABCDE3iy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"DELIVER"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9546"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BCH-AMM-ABCDE3iy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"DELIVER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9546"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>YES</td>
<td>Hash token</td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>YES</td>
<td>Available values: <code>DELIVER</code> and <code>MANUAL</code>. <code>DELIVER</code> invokes physical delivery, the AMM must have the appropriate balance to trigger delivery. <code>MANUAL</code> cancels all working orders and creates a sub account that is accessible from the dashboard.</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>NO</td>
<td>Account ID</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>Hash token</td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>Available values: <code>DELIVER</code> and <code>MANUAL</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-amm-private-get-v3-amm'>GET <code>/v3/AMM</code></h3>
<p>Get AMM information</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/AMM?hashToken={hashToken},{hashToken}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BCH-AMM-ABCDE3iy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initialCollateral"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENDED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"counterAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.94"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7800.00"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33000.00"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.3"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12000.05"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592486212218"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"balances"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415223"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"loans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"borrowedAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"borrowedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000.0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"collateralAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.6"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50000.0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62500.0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40000.0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592486212218"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"usdReward"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"flexReward"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"interestPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"apr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"120"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2143324.342"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"collateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231231"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"portfolioVarMargin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"riskRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.3179"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liquidating"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feeTier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1623042343252"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1623142532134"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>YES</td>
<td>Multiple hashTokens can be separated with a comma, maximum of 5 hashTokens, e.g. <code>CF-BCH-AMM-ABCDE3iy,CF-BCH-AMM-ABCDE4iy</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>Hash token</td>
</tr>
<tr>
<td>leverage</td>
<td>STRING</td>
<td>Leverage if applicable</td>
</tr>
<tr>
<td>direction</td>
<td>STRING</td>
<td>Direction</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>initialCollateral</td>
<td>JSON</td>
<td>Initial collateral</td>
</tr>
<tr>
<td>minPriceBound</td>
<td>STRING</td>
<td>Minimum price bound</td>
</tr>
<tr>
<td>maxPriceBound</td>
<td>STRING</td>
<td>Maximum price bound</td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Status</td>
</tr>
<tr>
<td>positions</td>
<td>LIST of dictionaries</td>
<td>Positions</td>
</tr>
<tr>
<td>baseAsset</td>
<td>STRING</td>
<td>Base asset</td>
</tr>
<tr>
<td>counterAsset</td>
<td>STRING</td>
<td>Counter asset</td>
</tr>
<tr>
<td>position</td>
<td>STRING</td>
<td>Position</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Entry price</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Position PNL</td>
</tr>
<tr>
<td>estLiquidationPrice</td>
<td>STRING</td>
<td>Estimated liquidation price</td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>STRING</td>
<td>Timestamp</td>
</tr>
<tr>
<td>balances</td>
<td>LIST of dictionaries</td>
<td>Balances</td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total balance</td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved balance</td>
</tr>
<tr>
<td>loans</td>
<td>LIST of dictionaries</td>
<td>Loans</td>
</tr>
<tr>
<td>borrowedAsset</td>
<td>STRING</td>
<td>Borrowed asset</td>
</tr>
<tr>
<td>borrowedAmount</td>
<td>STRING</td>
<td>Borrowed amount</td>
</tr>
<tr>
<td>collateralAsset</td>
<td>STRING</td>
<td>Collateral asset</td>
</tr>
<tr>
<td>usdReward</td>
<td>STRING</td>
<td>USD reward from scalping</td>
</tr>
<tr>
<td>flexReward</td>
<td>STRING</td>
<td>FLEX reward from fee rebates</td>
</tr>
<tr>
<td>interestPaid</td>
<td>STRING</td>
<td>Interest paid, positive values imply interest was paid to the AMM, negative values imply interest was paid by the AMM</td>
</tr>
<tr>
<td>apr</td>
<td>STRING</td>
<td>APR denotes annual percentage rate</td>
</tr>
<tr>
<td>volume</td>
<td>STRING</td>
<td>Traded volume</td>
</tr>
<tr>
<td>collateral</td>
<td>STRING</td>
<td>Collateral</td>
</tr>
<tr>
<td>notionalPositionSize</td>
<td>STRING</td>
<td>Notional position size</td>
</tr>
<tr>
<td>portfolioVarMargin</td>
<td>STRING</td>
<td>Portfolio margin</td>
</tr>
<tr>
<td>riskRatio</td>
<td>STRING</td>
<td>collateralBalance / portfolioVarMargin, Orders are rejected/cancelled if the risk ratio drops below 1 and liquidation occurs if the risk ratio drops below 0.5</td>
</tr>
<tr>
<td>maintenanceMargin</td>
<td>STRING</td>
<td>Maintenance margin</td>
</tr>
<tr>
<td>marginRatio</td>
<td>STRING</td>
<td>Margin ratio</td>
</tr>
<tr>
<td>liquidating</td>
<td>BOOLEAN</td>
<td>Available values: <code>true</code> and <code>false</code></td>
</tr>
<tr>
<td>feeTier</td>
<td>STRING</td>
<td>Fee tier</td>
</tr>
<tr>
<td>createdAt</td>
<td>STRING</td>
<td>AMM creation millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-amm-private-get-v3-amm-balances'>GET <code>/v3/AMM/balances</code></h3>
<p>Get AMM balances</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/AMM/balances?hashToken={hashToken},{hashToken}&amp;asset={asset}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BCH-AMM-ABCDE3iy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balances"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">              
                    </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">        
                    </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415234"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1585.890"</span><span class="p">,</span><span class="w">              
                    </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"325.890"</span><span class="p">,</span><span class="w">         
                    </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1260"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415123"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>YES</td>
<td>Multiple hashTokens can be separated with a comma, maximum of 5 hashTokens, e.g. <code>CF-BCH-AMM-ABCDE3iy,CF-BCH-AMM-ABCDE4iy</code></td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>Hash token</td>
</tr>
<tr>
<td>balances</td>
<td>LIST of dictionaries</td>
<td>Balances</td>
</tr>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total balance</td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved balance</td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>STRING</td>
<td>Millisecond timestamp of last updated at</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-amm-private-get-v3-amm-positions'>GET <code>/v3/AMM/positions</code></h3>
<p>Get AMM positions</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/AMM/positions?hashToken={hashToken},{hashToken}&amp;marketCode={marketCode}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BCH-AMM-ABCDE3iy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"counterAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.94"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7800.00"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33000.00"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12000.05"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592486212218"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>YES</td>
<td>Multiple hashTokens can be separated with a comma, maximum of 5 hashTokens, e.g. <code>CF-BCH-AMM-ABCDE3iy,CF-BCH-AMM-ABCDE4iy</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td>Market code</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>Hash token</td>
</tr>
<tr>
<td>positions</td>
<td>LIST of dictionaries</td>
<td>Positions</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>baseAsset</td>
<td>STRING</td>
<td>Base asset</td>
</tr>
<tr>
<td>counterAsset</td>
<td>STRING</td>
<td>Counter asset</td>
</tr>
<tr>
<td>position</td>
<td>STRING</td>
<td>Position size</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Entry price</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Position PNL</td>
</tr>
<tr>
<td>estLiquidationPrice</td>
<td>STRING</td>
<td>Estimated liquidation price</td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>STRING</td>
<td>Millisecond timestamp of last updated at</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-amm-private-get-v3-amm-orders'>GET <code>/v3/AMM/orders</code></h3>
<p>Get AMM orders</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/AMM/orders?hashToken={hashToken}

</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> 
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304354590153349202"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchedQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1613089383656"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastModifiedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1613089393622"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastMatchedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1613099383613"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>YES</td>
<td>Maximum 1 hashToken, e.g. <code>CF-BCH-AMM-ABCDE3iy</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Order ID</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Available values: <code>PARTIALLY_FILLED</code> and <code>OPEN</code></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Available values: <code>BUY</code> and <code>SELL</code></td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Limit price</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price if applicable</td>
</tr>
<tr>
<td>isTriggered</td>
<td>BOOLEAN</td>
<td>Available values: <code>true</code> and <code>false</code> if applicable</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity</td>
</tr>
<tr>
<td>remainQuantity</td>
<td>STRING</td>
<td>Remaining order quantity</td>
</tr>
<tr>
<td>matchedQuantity</td>
<td>STRING</td>
<td>Matched quantity</td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Available values: <code>LIMIT</code> or <code>STOP</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Time in force</td>
</tr>
<tr>
<td>createdAt</td>
<td>STRING</td>
<td>Timestamp</td>
</tr>
<tr>
<td>lastModifiedAt</td>
<td>STRING</td>
<td>Millisecond timestamp if applicable</td>
</tr>
<tr>
<td>lastMatchedAt</td>
<td>STRING</td>
<td>Millisecond timestamp if applicable</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-amm-private-get-v3-amm-trades'>GET <code>/v3/AMM/trades</code></h3>
<p>Get AMM trades. Trades are filtered in descending order (most recent first)</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/AMM/trades?hashToken={hashToken}&amp;marketCode={marketCode}&amp;limit={limit}&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">    
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">         
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000099731323"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2001011000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"matchedQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50625"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.625"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"feeAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00307938"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastMatchedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1639016502495"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>YES</td>
<td>Single hashToken e.g. <code>CF-BCH-AMM-ABCDE3iy</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td>Market code</td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 200, max 500, if the limit is reached and there are more trade records with the same millisecond timestamp as any of the included records, ignore the limit and return all of the additional trades that were recorded with that millisecond timestamp</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Order ID</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders with max value <code>9223372036854775807</code></td>
</tr>
<tr>
<td>matchId</td>
<td>STRING</td>
<td>Match ID</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Available values: <code>BUY</code> and <code>SELL</code></td>
</tr>
<tr>
<td>matchedQuantity</td>
<td>STRING</td>
<td>Matched quantity</td>
</tr>
<tr>
<td>matchPrice</td>
<td>STRING</td>
<td>Match price</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total price</td>
</tr>
<tr>
<td>leg1Price</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>leg2Price</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>orderMatchType</td>
<td>STRING</td>
<td>Available values: <code>TAKER</code> and <code>MAKER</code></td>
</tr>
<tr>
<td>feeAsset</td>
<td>STRING</td>
<td>Fee asset</td>
</tr>
<tr>
<td>fee</td>
<td>STRING</td>
<td>Fee</td>
</tr>
<tr>
<td>lastMatchedAt</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-amm-private-get-v3-amm-hash-token'>GET <code>/v3/AMM/hash-token</code></h3>
<p>Get AMM hashTokens in descending order (most recent first)</p>

<aside class="notice">
Main account API key can search all subaccount hashTokens
</aside>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/AMM/hash-token?status={status}&amp;marketCode={marketCode}&amp;limit={limit}&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-ETH-AMM-607973"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3340"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3380"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXECUTING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1649630816578"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hashToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-BCH-AMM-607818"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1500"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXECUTING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1649544662014"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>STRING</td>
<td>NO</td>
<td>Available values: <code>EXECUTING</code>, <code>ENDED</code>, <code>PENDING</code>, <code>LIQUIDATED</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td>Market code</td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 200, max 500</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hashToken</td>
<td>STRING</td>
<td>hashToken e.g. <code>CF-BCH-AMM-ABCDE3iy</code></td>
</tr>
<tr>
<td>direction</td>
<td>STRING</td>
<td>Available values: <code>BUY</code> and <code>SELL</code></td>
</tr>
<tr>
<td>marketcode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>minPriceBound</td>
<td>STRING</td>
<td>Minimum price bound</td>
</tr>
<tr>
<td>maxPriceBound</td>
<td>STRING</td>
<td>Maximum price bound</td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Available values: <code>EXECUTING</code>, <code>ENDED</code>, <code>PENDING</code>, <code>LIQUIDATED</code></td>
</tr>
<tr>
<td>createdAt</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h2 id='rest-api-v3-market-data-public'>Market Data - Public</h2><h3 id='rest-api-v3-market-data-public-get-v3-markets'>GET <code>/v3/markets</code></h3>
<p>Get a list of markets on CoinFlex.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/markets?marketCode={marketCode}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"referencePair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"listedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593345600000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upperPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65950.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lowerPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60877.3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63413.9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1635848576163"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market Code</td>
</tr>
<tr>
<td>name</td>
<td>STRING</td>
<td>Name of the contract</td>
</tr>
<tr>
<td>referencePair</td>
<td>STRING</td>
<td>Reference pair</td>
</tr>
<tr>
<td>base</td>
<td>STRING</td>
<td>Base asset</td>
</tr>
<tr>
<td>counter</td>
<td>STRING</td>
<td>Counter asset</td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>Type of the contract</td>
</tr>
<tr>
<td>tickSize</td>
<td>STRING</td>
<td>Tick size of the contract</td>
</tr>
<tr>
<td>minSize</td>
<td>STRING</td>
<td>Minimum quantity</td>
</tr>
<tr>
<td>listedAt</td>
<td>STRING</td>
<td>Listing date of the contract</td>
</tr>
<tr>
<td>settlementAt</td>
<td>STRING</td>
<td>Timestamp of settlement if applicable i.e. Quarterlies and Spreads</td>
</tr>
<tr>
<td>upperPriceBound</td>
<td>STRING</td>
<td>Sanity bound</td>
</tr>
<tr>
<td>lowerPriceBound</td>
<td>STRING</td>
<td>Sanity bound</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-market-data-public-get-v3-assets'>GET <code>/v3/assets</code></h3>
<p>Get a list of assets supported on CoinFLEX</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/assets?asset={asset}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isCollateral"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"loanToValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"networkList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ERC20"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"transactionPrecision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isWithdrawalFeeChargedToUser"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"canDeposit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"canWithdraw"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minDeposit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minWithdrawal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isCollateral"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"loanToValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.800000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"networkList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ERC20"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tokenId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x514910771af9ca656af840dff83e8264ecf986ca"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"transactionPrecision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isWithdrawalFeeChargedToUser"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"canDeposit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"canWithdraw"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minDeposit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minWithdrawal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>NO</td>
<td>Asset name</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset name</td>
</tr>
<tr>
<td>isCollateral</td>
<td>BOOL</td>
<td>Indicates it is collateral or not</td>
</tr>
<tr>
<td>loanToValue</td>
<td>STRING</td>
<td>Loan to value of the asset</td>
</tr>
<tr>
<td>networkList</td>
<td>LIST</td>
<td>List of dictionaries</td>
</tr>
<tr>
<td>network</td>
<td>STRING</td>
<td>Network for deposit and withdrawal</td>
</tr>
<tr>
<td>tokenId</td>
<td>STRING</td>
<td>Token ID</td>
</tr>
<tr>
<td>transactionPrecision</td>
<td>STRING</td>
<td>Precision for the transaction</td>
</tr>
<tr>
<td>isWithdrawalFeeChargedToUser</td>
<td>BOOL</td>
<td>Indicates the withdrawal fee is charged to user or not</td>
</tr>
<tr>
<td>canDeposit</td>
<td>BOOL</td>
<td>Indicates can deposit or not</td>
</tr>
<tr>
<td>canWithdraw</td>
<td>BOOL</td>
<td>Indicates can withdraw or not</td>
</tr>
<tr>
<td>minDeposit</td>
<td>STRING</td>
<td>Minimum deposit amount</td>
</tr>
<tr>
<td>minWithdrawal</td>
<td>STRING</td>
<td>Minimum withdrawal amount</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-market-data-public-get-v3-tickers'>GET <code>/v3/tickers</code></h3>
<p>Get tickers.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/tickers?marketCode={marketCode}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41512.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41915.3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42662.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41167.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"114341.4550"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.733"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3516.506000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastTradedPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41802.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastTradedQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642585256002"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td>Market code</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>open24h</td>
<td>STRING</td>
<td>Rolling 24 hour opening price</td>
</tr>
<tr>
<td>high24h</td>
<td>STRING</td>
<td>Rolling 24 hour highest price</td>
</tr>
<tr>
<td>low24h</td>
<td>STRING</td>
<td>Rolling 24 hour lowest price</td>
</tr>
<tr>
<td>volume24h</td>
<td>STRING</td>
<td>Rolling 24 hour notional trading volume</td>
</tr>
<tr>
<td>currencyVolume24h</td>
<td>STRING</td>
<td>Rolling 24 hour trading volume in base currency</td>
</tr>
<tr>
<td>openInterest</td>
<td>STRING</td>
<td>Open interest</td>
</tr>
<tr>
<td>lastTradedPrice</td>
<td>STRING</td>
<td>Last traded price</td>
</tr>
<tr>
<td>lastTradedQuantity</td>
<td>STRIN</td>
<td>Last traded quantity</td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>STRING</td>
<td>Millisecond timestamp of lastest update</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-market-data-public-get-v3-auction'>GET <code>/v3/auction</code></h3>
<p>Get upcoming delivery auction.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/auction?marketCode={marketCode}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auctionTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642590000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"netDelivered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estFundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td>Market code</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>auctionTime</td>
<td>STRING</td>
<td>Millisecond timestamp of the next auction</td>
</tr>
<tr>
<td>netDelivered</td>
<td>STRING</td>
<td>Delivery imbalance (negative = more shorts than longs and vice versa)</td>
</tr>
<tr>
<td>estFundingRate</td>
<td>STRING</td>
<td>Estimated funding rate, a positive rate means longs pay shorts</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-market-data-public-get-v3-funding-rates'>GET <code>/v3/funding-rates</code></h3>
<p>Get historical funding rates.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/funding-rates?marketCode={marketCode}&amp;limit={limit}
&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"netDelivered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1628362803134"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"netDelivered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1628359202941"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>NO</td>
<td>Market code</td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 200, max 500</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other.</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>fundingRate</td>
<td>STRING</td>
<td>Funding rate</td>
</tr>
<tr>
<td>netDelivered</td>
<td>STRING</td>
<td>Delivery imbalance (negative = more shorts than longs and vice versa)</td>
</tr>
<tr>
<td>createdAt</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-market-data-public-get-v3-candles'>GET <code>/v3/candles</code></h3>
<p>Get candles.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/candles?marketCode={marketCode}&amp;timeframe={timeframe}&amp;limit={limit}
&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"timeframe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3600s"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35888.80000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35925.30000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35717.00000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35923.40000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642932000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35805.50000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36141.50000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35784.90000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35886.60000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642928400000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td>Market code</td>
</tr>
<tr>
<td>timeframe</td>
<td>STRING</td>
<td>NO</td>
<td>Available values: <code>60s</code>,<code>300s</code>,<code>900s</code>,<code>1800s</code>,<code>3600s</code>,<code>7200s</code>,<code>14400s</code>,<code>86400s</code>, default is <code>3600s</code></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 200, max 500</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other.</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timeframe</td>
<td>STRING</td>
<td>Available values: <code>60s</code>,<code>300s</code>,<code>900s</code>,<code>1800s</code>,<code>3600s</code>,<code>7200s</code>,<code>14400s</code>,<code>86400s</code></td>
</tr>
<tr>
<td>open</td>
<td>STRING</td>
<td>Opening price</td>
</tr>
<tr>
<td>high</td>
<td>STRING</td>
<td>Highest price</td>
</tr>
<tr>
<td>low</td>
<td>STRING</td>
<td>Lowest price</td>
</tr>
<tr>
<td>close</td>
<td>STRING</td>
<td>Closing price</td>
</tr>
<tr>
<td>volume</td>
<td>STRING</td>
<td>Trading volume in counter currency</td>
</tr>
<tr>
<td>currencyVolume</td>
<td>STRING</td>
<td>Trading volume in base currency</td>
</tr>
<tr>
<td>openedAt</td>
<td>STRING</td>
<td>Millisecond timestamp of the candle open</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-market-data-public-get-v3-depth'>GET <code>/v3/depth</code></h3>
<p>Get depth.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/depth?marketCode={marketCode}&amp;level={level}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1643016065958"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mi">39400</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.261</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">41050.5</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.002</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="p">[</span><span class="w">
                </span><span class="mi">41051</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.094</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">41052.5</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.002</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">41054.5</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.002</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w"> 
        </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">39382.5</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.593</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">39380.5</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.009</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="p">[</span><span class="w">
                </span><span class="mi">39378</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.009</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">39375.5</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.009</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="p">[</span><span class="w">
                </span><span class="mi">39373</span><span class="p">,</span><span class="w"> 
                </span><span class="mf">0.009</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td>Market code</td>
</tr>
<tr>
<td>level</td>
<td>LONG</td>
<td>NO</td>
<td>Default 5, max 100</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>level</td>
<td>LONG</td>
<td>Level</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>STRING</td>
<td>Millisecond timestamp of the lastest depth update</td>
</tr>
<tr>
<td>asks</td>
<td>LIST of floats</td>
<td>Sell side depth: [price, quantity]</td>
</tr>
<tr>
<td>bids</td>
<td>LIST of floats</td>
<td>Buy side depth: [price, quantity]</td>
</tr>
</tbody></table>
<h2 id='rest-api-v3-flex-assets-public'>Flex Assets - Public</h2><h3 id='rest-api-v3-flex-assets-public-get-v3-flexasset-balances'>GET <code>/v3/flexasset/balances</code></h3>
<p>Get flexAsset balances.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/flexasset/balances?flexasset={flexasset}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"flexasset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"110.78000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"110.78000000"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642735371714"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexasset</td>
<td>STRING</td>
<td>YES</td>
<td>FlexAsset name, available assets e.g. <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>STRING</td>
<td>Asset name, e.g. &#39;BTC&#39;</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total balance</td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved balance (unavailable) due to working spot orders</td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>STRING</td>
<td>Millisecond timestamp of the latest balance update</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-flex-assets-public-get-v3-flexasset-positions'>GET <code>/v3/flexasset/positions</code></h3>
<p>Get flexAsset positions.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/flexasset/positions?flexasset={flexasset}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"flexasset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counterAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-4363.81"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"380.69"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"297.74"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-361978.0395"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1643173228911"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counterAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-28.931000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43100.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37850.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"151896.4293000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estLiquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"345678367498.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642666693674"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexasset</td>
<td>STRING</td>
<td>YES</td>
<td>FlexAsset name, available assets e.g. <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>baseAsset</td>
<td>STRING</td>
<td>Base asset</td>
</tr>
<tr>
<td>counterAsset</td>
<td>STRING</td>
<td>Counter asset</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Position size</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Average entry price</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Postion profit and loss</td>
</tr>
<tr>
<td>estLiquidationPrice</td>
<td>STRING</td>
<td>Estimated liquidation price, return 0 if it is negative (&lt;0)</td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>STRING</td>
<td>Millisecond timestamp of the latest position update</td>
</tr>
</tbody></table>
<h3 id='rest-api-v3-flex-assets-public-get-v3-flexasset-yields'>GET <code>/v3/flexasset/yields</code></h3>
<p>Get flexasset yields.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET /v3/flexasset/yields?flexasset={flexasset}&amp;limit={limit}&amp;startTime={startTime}&amp;endTime={endTime}
</code></pre></div>
<blockquote>
<p><strong>Successful response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"flexasset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexBTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"yield"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paidAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1643193000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"flexasset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flexUSD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"yield"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paidAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1643193000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Request Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexasset</td>
<td>STRING</td>
<td>NO</td>
<td>FlexAsset name, available assets e.g. <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 200, max 500</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default 24 hours ago. startTime and endTime must be within 7 days of each other.</td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td>Millisecond timestamp. Default time now. startTime and endTime must be within 7 days of each other.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flexasset</td>
<td>STRING</td>
<td>Asset name, available assets e.g. <code>flexUSD</code>, <code>flexBTC</code>, <code>flexETH</code>, <code>flexFLEX</code></td>
</tr>
<tr>
<td>apr</td>
<td>STRING</td>
<td>Annualized APR (%) = yield * 3 * 365 * 100</td>
</tr>
<tr>
<td>yield</td>
<td>STRING</td>
<td>Period yield</td>
</tr>
<tr>
<td>paidAt</td>
<td>STRING</td>
<td>Millisecond timestamp of the interest payment</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">curl</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
